import{a as Re,b as Ie,e as Ve,r as d,f as Fe,t as xe,w as Be,h as Q,i as n,j as i,k as r,u as h,l as g,m as Qe,p as Te,_ as Ue,o as a,q as Ye,F as T,s as $,v as Ce,x as b,y as e,c as ne,z as ve,A as y,B as Se,C as Me,D as He,E as Oe,G as De}from"./entry.d811778a.js";import{_ as Ke}from"./ossUploader.a4d2e4d5.js";import{_ as fe}from"./robot.23bfda18.js";import{_ as qe}from"./previewImg.3bbe8181.js";import{_ as Pe}from"./cCreate.07dee42e.js";import{c as Ze}from"./content.8ac9cfa6.js";import{_ as Le}from"./avatar.476f89d8.js";import{b as je,Q as ze}from"./barrage.9aa0fca8.js";import{i as We}from"./template.800b7f53.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";import"./upload.51048db5.js";import"./svga.1e6ae788.js";import"./loding.bf55ea5c.js";import"./ossUploaderNew.392fe014.js";import"./stringify.f484c508.js";import"./addBase.8fac3ed3.js";import"./close.79d7cbfd.js";import"./curriculum.943a89fc.js";import"./unit.b72b5b5d.js";import"./createLoading.vue.59f23d8b.js";import"./close3.bdd7467f.js";const Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACo0lEQVRoQ+1ZPYgTQRT+3hIkSWW3M2nUzkLBxv4EQcFCrRQUtBELi+yBwokHF8EDxQNzYGHhIYKCVipYnIVoK1gIFloInnBkJsEihWCES56sl0iSyy6zm8yGwGyzEN6b9/28mczOEGb8oRnHD0dg2g46B2bBgVypVDrBzAeYOZcVYM/zPtVqtTcAWnE1Y1tISrkHwDqA/VkBH6qzAWBOKfUjqn4cgbyU8guAvVMC3yv7VSl1EMDWKByRBHzfP+l53sswiZl/AXgAIHxbf4goDyAAEL7R6XRO1ev1V4kICCGWiKjSTbqtlLpuHXlfASHEXSK62v1pUSm1nJoAM1e01jczJvBfwLj6kS3U74AjkMI6UwGdAynENUpxDpgqYCRniiDT+m4OpBDXKMU5YKqAkZwpgkzruzmQQlyjFOeAqQJGcqYIMq2f7RyofM9jt3gE8BxAiwgKa1HcpJTnADzpflBd1Fo/nu73wDb4FwCO/wPC/BHzxcNx5gghLhDRllLqaVRcNg4Mg99msICgeCdFdw2k2CcwCjyhgnJhIl94dglYBh9aYY/AKPDMP0H0OmHbbKKpl1HZN/KAyx6Be60rIL6fEOzocKIA5fxqtqtQ9c8ZoPNsIgTAZxEUn2dLIKy2+nsJjN7ZUrjyNAFvAcSx551DQDdRLryd3jK6gwTW0dSno3o6qWP25kA/EoskIglIKW8AuNX9K1/RWl9Lqs5A/DAJxkPMFy6NNWbcMtp/uNs9o68yJ+rdjR37l0ES7xEUjlgjACAnpfw8zt1Au90+32g0Bvcx1dZlMI6CvBUEuz7YJAAhRHg38I6IUt0RMHPkLnJc4L18k0u+vO/7x4joUJKiRPQtbheZZKy4WBMCk6plZRxHwIqsCQZ1DiQQy0rozDvwFzG+BU+Zb+EYAAAAAElFTkSuQmCC",Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFC0lEQVRYR8WXcYhUVRTGf+fN7O5721YrWK6woIJCgtD+YaC0oaGSkZKRkn8IGQQaWPvGBBMURzLU2tiZ2kBByMhIUMjASElQaReCFhQqCjQ0EJwFYSdc9s24O+/EvW92dmd3Zpkxsvvvu/ee755zvu98T/iflzxQ/CMj7TTFnoUC4F3Gl8EHugeoD0BS4zyePwTqI8SLQXNAN1n3AEkZqxdIfQBSwZfAFpQbIClEc6A7QDqAE/jeG/8dgFRuG+hRoI/svRdJPjlsgyVvurS2fQOsRdhKl/dFPSBqy0DPUCvS9DtIC3ldzO7m22VB7Hf3F9AWNL+AxKxsrSCmAzB1bs2vgrADnDZ7kdKO6EaEJF3egYqXp0e6UEmBngXnVnRO7+LwE0OZfpILTK9MW+UAUrkXQI8D7VVfYOovnMGJnYJwGNUtqG4o9kGVY5pBnTdJuN9N3TAB4JNgBQUuIjoM0svY6AUczUBsIU7se5SLwC2E1cD8YmbGIjZoFuQ8YDK2EtVNIAMURttpaFiFqo9KC8RXkmjonwxiAkAq+BFYihaWk2i5VtqUznWhmkJlHY7ECcNuhIWAaUJDRRf0GhJLEuoYoudAduG7H5fu+OjeEuLxqwh9+N7zlQH0BKOIDuA3Ly9vsNxpW3/T/dBpAwvdhLk0ow0ujfHdoNsjIFwuZuAMieZN5fcEPyB04ntetQwE9iVTAaRGrk6q70nyumc6C4L5CIeAzcXS3CDhLSoDEGW4A997tHoJlGWQe8LSyLIh9z7wHlRvovIg+Veh0IvKbBwOlhgT0fQOMIDvPVcFQFFoDNWGMkdonXMaZF1x82F8b09N3E4FnwNbo716juzgJmbN3Wb7SMSny01XBhAp2nVgtkUa1fsP4KkZ+T8VVSrXY2fF+FnDHlN7uEs2s2iqHpTrQE/upaiL7TpPGO7DcX6uD0BgyraXwv3lxBr3W4k2S5wNdDV9W10HzJd0/mU0PFtKX6gH6gaQDvajJAnDZ3AcAyYCYGg8oxBNLoHSVxScX4ElwEF8b19tPVAqwfhZQ82lVqyygzOUYFxwTKMM3TlG65yvQTZEQaUX3327RgCfRiO6WMZs5hVmte22WVHZQcL9rDoNrRLm5pammUlnyF5EMziyhXe8KzOCsD0UngRptf4gm3nLNt0EDa/he2VCN1mK7xV5WiaV9ATXi9JrYp8C159mwXqDeYxqNyJGMc30nC5EPbUooal9wltT9sqekhSbYWMayrigo+AdRrN5HLcLNWJlZ0IfSKflv9+8vuyeVGAG2moSXkO1ElxC6USdDnY2/VbalBp5F6S7NIy0kCxKswGSs+mOLJpvh5Vh0VTf0KvzGMsZTZlBCdPBKkLOIxhjmUK4SOH+XzgNT4OcseNYyKC6FhEjVpOW3gYx49pMSZOBjdwP+2l05tnhZOVcHiFkDTvL+6iCEIXHQSInVGlZQyLnCAtfoRInxmtFtkQeYfpSlD8R2YHvXpj6uYIlM5I8dwWqSydeGi60c0HZS8L7oGKYVGCmoemFU6jcjoxKmEFkgCH3SjXLXo8pvWkbUPOLp5nOD4fbaHSuWmDZwQXV/F8l4LUBMCfTwesoJ2wv/J1ZXwoy2ZYj2/HdYzNqxZSPtQMwB1MjRh03W+Ni1NE0rPF7D+XHxABIXorTuswMGDNujQUzomOM6eGH82s2nj7zc9ooK3CcYUbz/ex67G49aa8sRA96w7889w9Emhc/9ZAiYQAAAABJRU5ErkJggg==",Je="data:image/png;base64,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",Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAFmUlEQVRYR8WZf0xVZRjHv8+9517YSgQjc0UTg8Wl4YRleVuUy5bRIsNFA4MSmi2cNWCrv2KDZlt/1Catmrh0YoHKtMWUBuuHI7UJyybOiqvDIfPHMClQXF3ur7c97z3ncrn3wjmHy13vP/ePc973/Zzned/neb7PJcxjCCEUAKsBPK3+OgAsA5CqLjcBYBSAC8BpAL0A+onIZ3Y7MjNBCJEFoAZApQpkZjoDtwH4jIhGjE40BCiEYOtsB1AFgK2HS7cEOi/60Tcq4BoPYOSWwMRUcNv0ZOCeOwiONELhvRaUZFmRmRLayg2gFUATEV3XA9UFFEJsBtDM7vMFBNpcAXx+1ofTfwq9tWc8dy4j1BYoKHnAgmRFbjsGoI6I2udaaFZAIUQygE8BbOEFuob9qP/Jh6Gb5sAiN2er7nhSQVGmVXvUAqCeiNiyUSMmoAr3DYAit0+g5pgX+wYDpiym9/LmXCta1imaNXsAbIwFGQUYDnfltkDJUQ9+NelOPTjt+ap0QtcGOzIWSYyYkLEAd/JNZbgnDnnkZUjk4MtzojQEuZuI3gjfbwagEKKCQwG71dnhwdmxxMJpIA8vJZx82a65u4qI9mnPQoBqKDnHUaLqO8+Cnzk9L/CZbF1v49c4yDu0EBQOKF3Lt/WFI1699XSfN66R4RLv9xtPHkc32FC8Qt7ukKsloBAiE8Cg2yeSC/Z74BqPz7UM1+QMAjb1+QxDZi8mDL5mh2KRKTGXiIY0wI8AvHPwgh+buuOzngbHQV2xBB1kBnLvMwqqHpIf9zERvUtq4r/MudXZMYX+0flbLxyuvNuLjDsJzWvluTIMuXop4ZdNSTyFc/f9DFgI4ASHkxV71WSqe8KiX4iE+3ooGNhr862mIYer7chMsfB0JwO+B+CD5jM+1B83fqDDEWeD094xC8mpsK5AurmBATmllZR+64H21WYMqAenrbX9MQUNjwYvTmWPF+3n/bNuU/agBQefs/PzTgYc5Lizsm0Kv/1l7vwZhVu+iNBbym4j9FzyY2OXF+7Z+ZCfTjhTIc+hiwHHuZS6e5cbYzHridgfmig43i01CRiv4WIKEwwozUafGKdLJJxmDlErAWEaMNkK/PtWcHJ5twcdF2KXYWbdGumncEDp4rSdbkx4jF2Py68nyRIpY48bV29Hz4kXjiXDjTenXSwvSX77lOHqhcujwvsseOqwB71XZ1owXjj+3LwlhHOvTl8SGWbmclekjb561oZKhxVbfvBiz+/T13Eh4Hivl7ItOPz8dJgxHagb11jR5LTJYnbgRgBDEwJc4HJwNRpK5jpMkYHaCeCUmVRXkWNFW1Ewx0YOI3FO76QPVydpMrVwRrHwyIEpw3KSY9XyFAKXSGw1Vms83u71zRmE9eBYnp4qCysWeIIQQpZbrX/4Uf29frnFJXreXTKZz2sM3Qzg52uxs9aBIhvKc2TRGiy3VMBsLlh9AaHkfunR1b5hZ2RegLMZIieNMPCK1CacNbjsHwkv+b9gkW6k5P/wcQU1K0PC2zQkF8Zbj0VXTt0v2jRB30JEW2Um0VZXRRPHxNT/RzRZ0LpehhZuieRFiSbV1dyHaWXZWXgocYI90uQs4PvKQrKzMrxfE0u4S1dfmQxCjkyaK8HM+puDO2titbsQcq22ztytj0mB4iOJE/AcDTqLTbY+VFdzpk5w88iClnU2882jsEvDkDvUjqqshOuO+3A+Ts2ctZiVnqIJdN5uN8d3U+238HOk9mu4gZnOl6fzYgDNAz7T8pTl5LZVCiodFk0vc4uDG5ihPkys86vbYVVdzi3gRrUFLAs1rQV88loArr8Frv8jQpIh1R5Mg44lFnDqimgBcwDkFnDDgrSAI6zJLZJtcTbRd3FLw+htN2TByMXUbgRXQWsN/g3xI/8dMZ+/If4DLUPedQITk2kAAAAASUVORK5CYII=",$e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADXElEQVRYR8VXzVHjMBR+UjwOt4UOSAWbVADpYDuAzIBFhsNCBSQVbDgEY8NMspUQKoCtgHSw2VtgsB7zPJJGUWTHTg7rkxNLet/7vvcnBv/5YXXtx3F8zBj7DgAtzvk32i+l/AcAb4j4p9/vz+qcWQlAHMeHQRCcSCmvAGB/g4E5Y2yWZdmw3+/PN4EpBTCZTPY/Pj5uAIAMb/OMwjAc9nq9RdHmQgDkNef8CQAO9WZEnCHiMwDM9vb2XvXBBHS5XLZJGsYYgTV7AGAupewWseEFMB6P20EQkHFNNx3Sq6pvHMennHNiTgNZMMa6URS9ukysAVCev2jjiHjbbDYHZTQW0Xt/fz9ijP1U3xdSyo7LxAoApTkZz5FLKSmQBtuIr/fEcTxQbNBf8zAMO7YzKwCSJPmlA448v7i42Db4VjA7TIyEENd6gQGgqH9TH+ZCiNYuntt7Pcy2tBQ2gCnn/ERtPBVC/PYBoMOK4qHsGxUwlVUr0hoASZKQ96R9ofdpmr4gYrvRaJyenZ2tAHx8fDzJsoyCbh5FUccHPk3TJ0Q8BoCFEOKA1uQAbHQAcC2EGLkHKBoJZJ6aNghlfKr3hGF44GPJDkjGWIfSMgdwd3d31Wg0KACJHioa3nqu8nuiDREIes+yzBhX9cL8th3xOZoDsKO0CL2VVlRkDAjbQJlxWqdY/EvvOsu0BCYAhRAbG5TLhGKOKqXXcxtkkiSYa8/YNIqi3lYAXM3dmChLXy+AOhL4jNsx4WaHpx6sS1A1CF3jpDkZsGPCl6JW/JhaoLMtlyBN0zYiUg8orP92ALmaOzGxCMOw5UtDn6N2ISJq9mmaiaKo69MxSZK8UUkpr92A0yAYY69FhchX7OxSbLpWWS3YoRSb9NUZYCqhqoY0AZlm5LbNssiu8s3ynmReb0ZuQQKAlbZZxUjRmrI2XzqQcM4H5+fnw12MPzw83Egp9VBTPpBYUpiRbFsmPBP15pFMe+obSgFgUDQjuAyppkP9wgyln5+f3cvLy81DqVU01sZymhUQcUQ3IN9YHgTBkZTyBwC0LVD1x3K9mWh8f38fWJNtrXCoMlFv7Hw6LkgCzvmRc+nwASKtbwFguvPVzHe6fTkFgPxyCgD55TTLsmefzmW0VWKgFu81F38BxSY1PyPWxzAAAAAASUVORK5CYII=",eo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAsRJREFUWEftmL9rU1EUx78naWkI6UuCpWnBoUKpvS8IEf+AxsFBHFRwENRBXLoUK9RBFFSog6BYQXB1c3BQUMFBMENBB8G20PdesNAMHYIOzQuFdmjukVtSSWPSd18fNhnenQL3/Pi87/1xzg2hywd1OR9CwKArFCrYMQWrpjlDzFcYSHlAzPf09t6JLy2tHQT2QEtcMc3JCPNL7YRETv/g4AkqFLa1feqGvgF/mWYixvwTwBATXZNSzrdLGpUyhmj0PYBRMF83HOfVfwd0TfMBMd8HUDBs+7RXwko2eyki5RsAK/2ZjPCroi8FN0xziJlXGYjViE6mLWvBC1DNu0L8ICDHRFNJy3qh47Nr0xZQfTlJebQxGAETAC4Q0ZpkfqqbiIhOgfkqgDIDj5v9JFGh3ce2BKyOjQ0gGv2tCxDYjnnRcJxcqzjtFTTNSWIeV04RYIKBHAEFCSwGASLgnDo0DHxU+1LFYuBDyrY/+wJsNHaFmCPgJgO3krY9FwSwKsQ7AOcBXDRsW/3ed2gdkhBwHw1DBZvF6cgedLPZ0eTy8s6JVGM9l0vJjY3EkZWVfxqEQwd0hbhMwGsQ3TYs64kCrArxVVWO7c3N4XSpVGlUsROA0wQ8Y+B50ran64CrAEZqzMfSjlMKAfe7B10hdhRUtTnlODPdp2A2O0pSqiV+lLTtb/XuRS31cSOTmWpurw59D3qVqq64ZvxAhgqG3UzTftFtFmYJuFs/qff87LkWh6QA1QBLeTZZLH7yiqUFuD4+no8SfQFRRdZqZ1LF4nevwK3m/5ZFYKvW1zecXljYUwYP3FHXL9+36sFUD7KnfGnCJgAM7Ng21G0vXy0FVRAeGYm58fhsBLgBZq+/O9rlLYHooWFZ2g94bcDdjJzP91TK5T3PUS8V1HxvJLKVsKyyjm2jjW9AvwmC2oeAoYJBFQjq/wf7Vp84351e2QAAAABJRU5ErkJggg==",oo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADgklEQVRYR+2XaUhUURTHf2/UtNFs0aDMFGqoCCIqzYgCSxxbKCgK0jAriIiKDAyRyLKFkAzaQCgpKwshMbJ9LygraPvQ8iGTFjFbtLRyaUYnzjQS5ujcN2MhMefTzHv3nve7/3PvO/+n0c1D6+Z8eAE9rZBXQa+COhXwB3yABsCmc67T4V25Bw3AAsAE7ANqugugLFJUCwNeO6BWAvuBZk+V9FRBowNsEDAZ2OIAPAHkAhVAJVDvLqi7gDJvMDAT2KEZtECDQaPZ2mLnk9+yAW0ttu9AOnAeeAX8GqAj3AGUOcOBfE0jJqivkZDwYIxB/jwr/VXhgUND8A/04+ObWuprG7DZeAIkAk/1KukOYCRwStMYLSDmpdHEL4qiurKONTF7BIaUzWbMS8dzOvcONwsfU1VeLddfAmagXIeAuntxT6AAmBtmCmFt3nzCTKH25zV+/0HWnHya6q0kbYgjKkFEhjfP37N3RTGVZdXy9yIwH/iqCqlXwWmyn4zBAaQfS8Q0Rs7G7/jy4RvfvjQQPqx/m+tljyrIXlhIfV2jXJdSF/4twBJgVnxKFIu3Cat6HMw4x9WjD2XCTWCq6oHRo6B0iU9AUPa15e1UcoVa9rCCjbPzZdgPYADw2dUcua8HUDrEC98ePhwuz1DJ3WaM1dLMElM2Lc32N000cF8liR7AscCD0PDe7L67WiV3uzHLRua07sMpwA2VJHoAJwK3uzNgLHDdC/hH3fWUeAZwtn9EH3aVrlLZPp3twenABZUkqoCBwFYgdcSESDYUJavkbjdmXWxua0fZAWRKA3KVSBVwIXDI2DvALyUrgUnzRrnK6/T++bx7nMi+QVODxQIkAUWuEqkAiq265eNriIhLHkfypngMPmKe9YelycqBtDPcPinmxm4a5OC97SyTCqCoV9AjwJfkLDO9+olHdT9q3tVxJPNSawLJfdxTQNnQJZpB8/XzF2fveVgarWK/rNLXXR0WFQXFT+UAwU7QAgBZgITIIg5aQmxZgqOVXunAXtUBaY7+3uGqVQBlstTVWW0F+h4gi5AGfRnsyohb2QkIxCSgygmBLEY+TzsNVcDOksgrIxUQR1oMNAHzHI5Fvuzkpen2N3JXAIp12g5MAIbIN5PjhIqy612d0n+hoDwjBBAHK45HAB859qSz0rpianO/KxTU9UC9g72AehX7c7xXwf9ewZ/6hvcppLslDQAAAABJRU5ErkJggg==",P=U=>(Me("data-v-bbeef9a2"),U=U(),He(),U),to=["src"],lo=["src"],so={key:2,class:"name"},ao={class:"tag-list"},no=["onClick"],io={key:0},co=["src"],ro=["src"],uo={key:6},po={style:{"margin-bottom":"8px"}},Ao={key:0,class:"item-content-list"},go={class:"item-img"},vo=["onClick"],mo=["onClick"],ho={key:7,class:"bottom-action"},Co={class:"bottom-action-left"},fo=["onClick"],yo=P(()=>e("div",{class:"img"},null,-1)),bo=["onClick"],_o=P(()=>e("div",{class:"img"},null,-1)),ko=["onClick"],wo={class:"bottom-action-right"},Eo=["onClick"],Bo=["onClick"],To={key:1,class:"division"},So=["onClick"],Lo=["fill"],Ro=["onClick"],Io=P(()=>e("div",{class:"division"},null,-1)),Vo=["onClick"],Fo=["fill"],Qo=["fill"],Uo=["onClick"],Mo={key:0,class:"tagView"},Ho={class:"tag"},Oo=["src"],Do=["src"],No={key:3,class:"list"},xo=P(()=>e("h3",null,"您可以告诉我需要创作什么内容？比如下面：",-1)),Yo=["onClick"],Ko={key:3,class:"recRobots"},qo=P(()=>e("p",{class:"gary"},"根据您的问题，我为你找到了以下机器人，更好的解答这方面的问题",-1)),Po=["onClick"],Zo=["src"],jo={key:1,src:fe},zo={class:"text-hide"},Wo=P(()=>e("em",{class:"right-arrow"},null,-1)),Go={key:4,class:"item questionsCom clearfix left"},Jo={class:"questions"},Xo={class:"questions-left"},$o={class:"left-user"},et={key:0},ot={class:"questions-right"},tt=P(()=>e("div",{class:"right-switch"},null,-1)),lt={class:"tagList"},st=["onClick"],at={key:0},nt={key:0,class:"item clearfix left"},it=["src"],ct=P(()=>e("div",{class:"item-content left-item",style:{"min-width":"20px"}},[e("span",{class:"circle"})],-1)),rt=Re({__name:"record",props:{chatList:{default:[]},robotPromptList:{default:[]},robotLogo:{default:""},isLoading:{type:Boolean,default:!1},isQuote:{type:Boolean,default:!0},recordType:{default:""},isShowTagView:{type:Boolean,default:!0},showTagView:{default:""},jubao:{type:Boolean,default:!1},robotInfo:{default:{type:""}},userCodeList:{},isShowName:{type:Boolean,default:!1}},emits:["scrollTop","scrollBottom","getContent","query","update:isLoading","getAdvanced","response","scrolls","employee"],setup(U,{expose:ie,emit:E}){const Z=U,L=Ie(),f=Ve(),I=d(),ee=d(!0),j=d(),ce=d(0),{proxy:k}=Qe(),z=d(!0),{Modal:re}=Oe,oe=d(!1),M=d([]),u=d(!1),F=d();Fe(()=>{L.getChatLogo(k),ye(),k.$toMonitorA()});const{chatList:H,robotPromptList:te,robotLogo:K,isLoading:ue,isQuote:O,recordType:W,isShowTagView:q,showTagView:G,jubao:Y,robotInfo:de,userCodeList:C,isShowName:c}=xe(Z),V=d(null),le=async()=>{await Te(),V.value.scrollTop+=V.value.scrollHeight},ye=()=>{ce.value=V.value.offsetHeight},se=k.$debounce(l=>{const{scrollTop:m,scrollHeight:w,clientHeight:N}=l.target;m<10&&(ue.value||(E("update:isLoading",!0),E("scrollTop")));const s=w-m-N;s<10&&(ue.value||(E("update:isLoading",!0),E("scrollBottom"))),E("scrolls",{scrollTop:m,distanceToBottom:s}),m+ce.value>=w?z.value=!0:z.value=!1},500),pe=l=>{E("getContent",l)},be=()=>{re.confirm({okText:"确认",cancelText:"",content:"已进行举报，审核中"})},me=l=>{j.value.showFn({robotCode:l.robotCode?l.robotCode:l.partyId,aiRecordCode:l.recordCode})},D=l=>{k.$CopyTex(l.content)},J=(l,m)=>{let w={aiRecordEvaluateType:l.aiRecordEvaluateType==m?"":m,aiRecordCode:l.recordCode,groupId:l.groupId};k.$api.aiRecordLike(w).then(()=>{l.aiRecordEvaluateType=l.aiRecordEvaluateType==m?"":m})},Ae=l=>{if(u.value=!0,M.value=[],l.intentionalAnalysisType=="ROBOT"){let m={excludeIdList:[(l==null?void 0:l.intentionalAnalysisCode)??""],tagCode:l.intentionalAnalysisLabelCode,type:"CHAT",queryTrainTeamRobotFlag:!0};k.$api.queryTrainRobotInfoList(m).then(w=>{M.value=w.data,u.value=!1,k.$isEmpty(w.data)&&(l.visible=!1,k.$Message.error("没有机器人可换"))}).catch(()=>{u.value=!1,l.visible=!1})}else{let m={excludeIdList:C.value};k.$api.queryDigitalRobotInfoList(m).then(w=>{M.value=w.data,u.value=!1,k.$isEmpty(w.data)&&(l.visible=!1,k.$Message.error("没有成员可换"))}).catch(()=>{u.value=!1,l.visible=!1})}},_e=l=>{E("getAdvanced",l.code)},ke=l=>{E("response",l.code)},we=()=>{Te();const l=(V.value.scrollHeight-V.value.clientHeight)/2;V.value.scrollTop=l},he=(l,m,w)=>{let N="";k.$isEmpty(m.request)?N=H.value[l-1].type=="USER"?H.value[l-1].content:"":N=m.request,H.value.forEach(s=>{s.visible=!1}),E("employee",{type:"edit",request:N,item:m,data:w})},Ee=l=>{l.robotType=="CHAT"&&(l.personalFlag?f.push("/robot/chat?code="+l.robotCode):f.push("/enterprise/train/chat?robotCode="+l.robotCode+"&type=&userCode=")),(l.robotType=="MULTIPLE_MODELS_CHAT"||l.robotType=="USER_QA_CHAT"||l.robotType=="SYSTEM_QA_CHAT")&&f.push("/robot/chat"),(l.robotType=="ROLE"||l.robotType=="STAR"||l.robotType=="ROLE_ROBOT_CATEGORY")&&f.push("/robot/chat?code="+l.robotCode),l.robotType=="MUSIC"&&f.push("/robot/music?code="+l.robotCode),l.robotType=="QUESTION_BANK"&&(L.setSelectId(l.robotCategoryId),L.setRobotCode(l.robotCode),F.value.showFn(l.robotCode))};return ie({toMediate:we,rollBottom:le}),Be(()=>H.value,l=>{l.length>0?setTimeout(()=>{(l[l.length-1].type=="USER"&&!l[l.length-1].recordCode||z.value)&&le()},300):z.value=!0,H.value.forEach(m=>{m.content&&m.content.indexOf("泽东")!=-1&&(m.content=m.content.replace(/泽东/g,"**")),m.content&&m.content.indexOf("澤東")!=-1&&(m.content=m.content.replace(/澤東/g,"**"))})},{deep:!0,immediate:!0}),Be(()=>oe.value,()=>{oe.value&&Ae()}),(l,m)=>{const w=Q("Spin"),N=Q("Image"),s=Q("Tooltip"),t=Ue,A=Q("Button"),B=Q("Poptip"),R=qe,S=Pe;return ee.value?(a(),n("div",{key:0,class:"chatRecordList",ref_key:"chatRecordList",ref:V,onScroll:m[0]||(m[0]=(...o)=>h(se)&&h(se)(...o))},[i(t,null,{default:r(()=>[Ye(l.$slots,"recordTop",{},void 0,!0),(a(!0),n(T,null,$(h(H),(o,_)=>(a(),n("div",{class:Ce(["item clearfix left",l.$isEmpty(o.robotInfo)?"":"chatRobotInfo"]),key:_},[o.type=="SYSTEM"?(a(),n("img",{key:0,class:"chat-robot-logo",src:o.log||o.robotLog||h(K)||h(fe),alt:""},null,8,to)):(a(),n("img",{key:1,class:"chat-robot-logo",src:h(L).chatLogo,alt:""},null,8,lo)),o.type=="SYSTEM"&&h(c)?(a(),n("div",so,b(o.name),1)):g("",!0),e("div",{class:Ce(["item-content",o.type=="SYSTEM"?"left-item":"blue"])},[l.$isEmpty(o.content)&&!o.barrageData&&l.$isEmpty(o.robotInfo)?(a(),ne(w,{key:0})):(a(),n(T,{key:1},[_==0&&h(W)=="picedit"&&o.chatType=="picedit"?(a(),n(T,{key:0},[e("div",null,b(o.content),1),e("div",ao,[(a(!0),n(T,null,$(h(te),v=>(a(),n("div",{class:"tag",onClick:X=>pe(v)},b(v),9,no))),256))])],64)):g("",!0),o.type=="USER"?(a(),n(T,{key:1},[o.chatType=="CHAT"||o.chatType==""?(a(),n("pre",io,b(o.content),1)):g("",!0)],64)):g("",!0),o.type=="SYSTEM"?(a(),n(T,{key:2},[o.chatType=="CHAT"||o.chatType==""?(a(),ne(Ze,{key:0,isShowTagView:_==0?!1:h(q),showTagView:h(G)?h(G):h(L).showTagView,content:o.content,isLoad:h(H).length-1==_&&_!=0},null,8,["isShowTagView","showTagView","content","isLoad"])):g("",!0)],64)):g("",!0),o.chatType=="DRAW"?(a(),ne(N,{key:3,preview:!0,"preview-list":[o.content],class:"cImage-img",src:o.content,fit:"cover"},null,8,["preview-list","src"])):g("",!0),o.chatType=="VIDEO"?(a(),n("video",{key:4,width:"658",height:"444",controls:"",src:o.content},null,8,co)):g("",!0),o.chatType=="MUSIC"?(a(),n("video",{key:5,width:"658",height:"444",controls:"",src:o.content},null,8,ro)):g("",!0),o.chatType=="POSTER_TEMPLATE_ROBOT"?(a(),n("div",uo,[e("div",po,b(o.content),1),l.$isEmpty(o.list)?g("",!0):(a(),n("div",Ao,[(a(!0),n(T,null,$(o.list,v=>(a(),n("div",go,[i(N,{class:"img",src:v.url,fit:"cover"},null,8,["src"]),e("div",{class:"cover",onClick:X=>I.value.showFn(v.url)},[e("div",{class:"btn",onClick:ve(X=>_e(v),["stop"])},"高级编辑",8,mo)],8,vo)]))),256))]))])):g("",!0),o.type=="SYSTEM"&&_!=0?(a(),n("div",ho,[e("div",Co,[h(O)?(a(),n(T,{key:0},[l.$isEmpty(o.quoteNum)?(a(),n(T,{key:1},[l.$isEmpty(o.importVectorCode)?g("",!0):(a(),n("div",{key:0,class:"quoteNumbers",onClick:ve(v=>me(o),["stop"])},[_o,e("div",null,b(o.importVectorCode.length)+"个引用",1)],8,bo))],64)):(a(),n(T,{key:0},[o.quoteNum>0?(a(),n("div",{key:0,class:"quoteNumbers",onClick:ve(v=>me(o),["stop"])},[yo,e("div",null,b(o.quoteNum)+"个引用",1)],8,fo)):g("",!0)],64))],64)):g("",!0),h(f).currentRoute.value.path.indexOf("/enterprise/flow")!=-1&&_!=0?(a(),n("div",{key:1,class:"respond",onClick:v=>ke(o)},"完整响应",8,ko)):g("",!0)]),e("div",wo,[i(t,null,{default:r(()=>[l.$isEmpty(o.barrageData)?(a(),ne(s,{key:0,content:"复制",placement:"bottom"},{default:r(()=>[e("div",{class:"copy",onClick:v=>D(o)},null,8,Eo),e("div",{class:"text",onClick:v=>D(o)},"复制",8,Bo)]),_:2},1024)):g("",!0),h(f).currentRoute.value.path.indexOf("/enterprise/train/chat")!=-1&&_!=0?(a(),n("div",To)):g("",!0),h(f).currentRoute.value.path.indexOf("/enterprise/train/chat")!=-1&&_!=0?(a(),n(T,{key:2},[i(s,{content:"点赞",placement:"bottom"},{default:r(()=>[(a(),n("svg",{width:"20",onClick:ve(v=>J(o,"GOOD_REVIEW"),["stop"]),height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{fill:o.aiRecordEvaluateType=="GOOD_REVIEW"?"#0090F7":"#879299",d:"M6.18147 6.23111L10.2421 2.67595C10.521 2.46058 10.8634 2.34375 11.2158 2.34375C12.0957 2.34375 12.8089 3.05701 12.8089 3.93687V5.89213C12.8089 6.21208 13.0683 6.47145 13.3883 6.47145H15.2221C15.3412 6.47145 15.4601 6.48196 15.5774 6.50284C16.6799 6.69908 17.4145 7.75194 17.2183 8.85443L15.9485 15.9873C15.7762 16.9548 14.935 17.6595 13.9523 17.6595H7.42074C6.30092 17.6595 5.39313 16.7517 5.39313 15.6319V7.8359C5.39313 7.52595 5.46419 7.22012 5.60086 6.94192C5.73752 6.66372 5.93615 6.42055 6.18147 6.23111ZM6.84142 15.6319C6.84142 15.9518 7.10079 16.2112 7.42074 16.2112H13.9523C14.2331 16.2112 14.4734 16.0099 14.5226 15.7334L15.7924 8.60058C15.8485 8.28558 15.6386 7.98479 15.3236 7.9287C15.2901 7.92274 15.2561 7.91974 15.2221 7.91974H13.3882C12.2684 7.91974 11.3606 7.01195 11.3606 5.89213V3.93687C11.3606 3.9098 11.353 3.88327 11.3387 3.86029C11.3244 3.83731 11.304 3.8188 11.2797 3.80687C11.2554 3.79493 11.2282 3.79005 11.2013 3.79276C11.1743 3.79548 11.1487 3.80569 11.1273 3.82224L7.06663 7.37739C6.99654 7.43152 6.9398 7.501 6.90076 7.58048C6.86172 7.65997 6.84142 7.74735 6.84142 7.8359V15.6319ZM4.19829 8.01026V16.0664C4.19829 17.0319 2.75 17.0319 2.75 16.0664V8.01026C2.75 7.04474 4.19829 7.04474 4.19829 8.01026Z"},null,8,Lo)],8,So)),e("div",{class:Ce(["text",o.aiRecordEvaluateType=="GOOD_REVIEW"?"text-active":""]),onClick:ve(v=>J(o,"GOOD_REVIEW"),["stop"])},"点赞",10,Ro)]),_:2},1024),Io,i(s,{content:"点踩",placement:"bottom"},{default:r(()=>[(a(),n("svg",{width:"20",onClick:v=>J(o,"BAD_REVIEW"),height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{fill:o.aiRecordEvaluateType=="BAD_REVIEW"?"#0090F7":"#879299",d:"M6.18092 13.7728L10.2416 17.328C10.5205 17.5433 10.8629 17.6602 11.2153 17.6602C12.0951 17.6602 12.8084 16.9469 12.8084 16.067V14.1118C12.8084 13.7918 13.0678 13.5325 13.3877 13.5325H15.2215C15.3407 13.5325 15.4596 13.5219 15.5769 13.5011C16.6794 13.3048 17.414 12.252 17.2177 11.1495L15.9479 4.01665C15.7757 3.04913 14.9344 2.34441 13.9517 2.34441H7.42018C6.30037 2.34441 5.39258 3.2522 5.39258 4.37202V12.168C5.39258 12.478 5.46364 12.7838 5.60031 13.062C5.73697 13.3402 5.9356 13.5834 6.18092 13.7728ZM6.84087 4.37202C6.84087 4.05208 7.10024 3.7927 7.42018 3.7927H13.9517C14.2325 3.7927 14.4728 3.99405 14.5221 4.2705L15.7918 11.4033C15.8479 11.7183 15.638 12.0191 15.323 12.0752C15.2895 12.0812 15.2555 12.0842 15.2215 12.0842H13.3877C12.2679 12.0842 11.3601 12.992 11.3601 14.1118V16.067C11.3601 16.0941 11.3525 16.1206 11.3382 16.1436C11.3239 16.1666 11.3034 16.1851 11.2791 16.197C11.2548 16.209 11.2276 16.2139 11.2007 16.2111C11.1738 16.2084 11.1481 16.1982 11.1267 16.1817L7.06608 12.6265C6.99599 12.5724 6.93925 12.5029 6.90021 12.4234C6.86116 12.3439 6.84087 12.2566 6.84087 12.168V4.37202Z"},null,8,Fo),e("path",{fill:o.aiRecordEvaluateType=="BAD_REVIEW"?"#0090F7":"#879299",d:"M4.19829 4.0093V12.0654C4.19829 13.0309 2.75 13.0309 2.75 12.0654V4.0093C2.75 3.04378 4.19829 3.04378 4.19829 4.0093Z"},null,8,Qo)],8,Vo)),e("div",{class:Ce(["text",o.aiRecordEvaluateType=="BAD_REVIEW"?"text-active":""]),onClick:v=>J(o,"BAD_REVIEW")},"点踩",10,Uo)]),_:2},1024)],64)):g("",!0)]),_:2},1024)])])):g("",!0),o.type=="SYSTEM"&&o.chatType!=="SUGGEST_ROBOT"&&_!=0?(a(),n(T,{key:8},[h(k).$judgmentSorce()?(a(),n("div",Mo,[i(A,{type:"text",class:"report",size:"small",onClick:be},{default:r(()=>[y("举报")]),_:1}),e("div",Ho,[h(Y)?(a(),n("img",{key:0,style:{height:"28px",width:"auto"},src:"https://hz-oss.chatdzq.com/file/chatdzq/js/jubao1.svg?v="+Date.now()},null,8,Oo)):(a(),n("img",{key:1,style:{height:"28px",width:"auto"},src:"https://hz-oss.chatdzq.com/file/chatdzq/js/jubao2.svg?v="+Date.now()},null,8,Do))])])):g("",!0)],64)):g("",!0)],64)),o.barrageData?(a(),ne(je,{key:2,list:o.barrageData,onPrompt:pe},null,8,["list"])):g("",!0),_==0&&h(te).length>0&&l.$isEmpty(h(W))&&o.type=="SYSTEM"?(a(),n("div",No,[xo,e("ul",null,[(a(!0),n(T,null,$(h(te),(v,X)=>(a(),n("li",{key:X,onClick:p=>pe(v)},b(v),9,Yo))),128))])])):g("",!0)],2),o.chatType=="SUGGEST_ROBOT"&&!l.$isEmpty(o.robotInfo)?(a(),n("div",Ko,[qo,e("div",{class:"robotItem",onClick:v=>Ee(o.robotInfo)},[l.$isEmpty(o.robotInfo.robotLog)?(a(),n("img",jo)):(a(),n("img",{key:0,src:o.robotInfo.robotLog},null,8,Zo)),e("h2",null,b(o.robotInfo.robotName),1),e("p",zo,b(o.robotInfo.robotRemark),1),Wo],8,Po)])):g("",!0),o.intentionalAnalysisFlag?(a(),n("div",Go,[e("div",Jo,[e("div",Xo,[e("div",$o,[e("div",{class:"userLogo",style:Se("background-image:url("+(o.intentionalAnalysisLog?o.intentionalAnalysisLog:h(Le))+");")},null,4),e("div",null,[y(b(o.intentionalAnalysisName)+" ",1),o.intentionalAnalysisType=="ROBOT"&&!l.$isEmpty(o.intentionalAnalysisLabel)?(a(),n("span",et," ["+b(o.intentionalAnalysisLabel)+"]",1)):g("",!0)])])]),i(B,{placement:"bottom-start","word-wrap":!0,width:"360",modelValue:o.visible,"onUpdate:modelValue":v=>o.visible=v,onOnPopperShow:v=>Ae(o)},{content:r(()=>[e("div",lt,[i(w,{fix:"",show:u.value},null,8,["show"]),(a(!0),n(T,null,$(M.value,v=>(a(),n("div",{class:"tag-item",onClick:X=>he(_,o,v)},[e("div",{class:"userLogo",style:Se("background-image:url("+(v.robotLogo?v.robotLogo:v.userLogo?v.userLogo:h(Le))+");")},null,4),e("div",null,[y(b(o.intentionalAnalysisType=="ROBOT"?v.name:v.userName)+" ",1),o.intentionalAnalysisType=="ROBOT"&&!l.$isEmpty(o.intentionalAnalysisLabel)?(a(),n("span",at," ["+b(o.intentionalAnalysisLabel)+"]",1)):g("",!0)])],8,st))),256))])]),default:r(()=>[e("div",ot,[tt,e("div",null,b(o.intentionalAnalysisType=="ROBOT"?"换个AI答":"换个人答"),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","onOnPopperShow"])])])):g("",!0)],2))),128)),h(L).isChatLoad?(a(),n("div",nt,[e("img",{class:"chat-robot-logo",src:h(fe),alt:""},null,8,it),ct])):g("",!0),i(ze,{ref_key:"quoteRef",ref:j},null,512),i(R,{ref_key:"previewImgRef",ref:I},null,512),i(S,{ref_key:"cCreateRef",ref:F},null,512)]),_:3})],544)):g("",!0)}}});const ut=De(rt,[["__scopeId","data-v-bbeef9a2"]]),x=U=>(Me("data-v-e21be8de"),U=U(),He(),U),dt={class:"layout-main"},pt={class:"layout-main-right"},At={class:"layout-main-right-content"},gt={class:"addAgentPages"},vt={class:"agent-head clearfix"},mt={class:"fl left"},ht=x(()=>e("img",{src:Ge},null,-1)),Ct=[ht],ft={class:"robot-info"},yt=["src"],bt={key:1,src:fe},_t={class:"fr right"},kt={class:"agent-content clearfix"},wt={class:"left-head"},Et=x(()=>e("img",{src:Ne},null,-1)),Bt={key:0,class:"logo",src:Je},Tt=["src"],St=x(()=>e("img",{class:"edit",src:Xe,alt:""},null,-1)),Lt=["onClick"],Rt=x(()=>e("p",{class:"desc mb-10"},[y(" 构建知识库，为智能体提供个性化的知识输入，更好的解决问题。"),e("br"),y(" 支持pdf（不支持扫描件）、doc、docx、txt等文件格式，一次最多上传20个文件，整体知识库最多支持100个文件（每个100MB），知识库总字数不超过500万字 ")],-1)),It={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Vt={key:0,class:"table"},Ft={class:"table-top"},Qt=x(()=>e("div",{class:"top-state"},"状态",-1)),Ut={class:"content-item"},Mt={class:"item-left"},Ht={class:"left-name text-hide"},Ot={class:"item-right"},Dt=["onClick"],Nt={class:"agent-content-right fr"},xt={class:"right-head"},Yt={class:"dialogue"},Kt={key:0,class:"input-area"},qt={class:"cImage-upload"},Pt=x(()=>e("div",{class:"automatic-title"},[e("p",null,[e("img",{src:Ne}),y(" AI自动生成配置 ")])],-1)),Zt=x(()=>e("div",{class:"desc"},[e("img",{src:oo}),y(" 输入角色名称和角色需求点击确认后将由AI自动生成该角色的设定信息。第1次进行AI自动生成免费，后续需扣除10个电量 ")],-1)),jt={class:"item"},zt=x(()=>e("div",{class:"item-name"},[e("span",{class:"red"},"*"),y("角色名称")],-1)),Wt={class:"item-input"},Gt={class:"item"},Jt=x(()=>e("div",{class:"item-name"},"角色需求",-1)),Xt={class:"item-input"},$t=x(()=>e("div",null,[e("p",null,"是否确认删除该机器人?"),e("p",null,"使用该机器人的接口或插件将不可再继续使用")],-1)),el=Re({__name:"addAgent",setup(U){const{Modal:ie}=Oe,E=d(!1),Z=Ie(),L=d(""),f=d(""),I=d({}),ee=d(!1),j=d(!1),ce=d(""),k=d(""),z=d(null),re=d(null),oe=d(null),M=d(!1),u=d({name:"",robotLogo:"",robotRemark:"",welcomeContent:"",promptText:"",robotPromptText:""}),F=d({roleName:"",rolePrompt:""}),H=d(!1),te=d(""),K=d([]),ue=d([]),O=d(!1),W=d(!1),q=d([]),G=d(!1),Y=d([]),de=d([]),C=d([]),{proxy:c}=Qe(),V=Ve();Fe(()=>{le()});const le=()=>{var s;f.value=((s=V.currentRoute.value.query)==null?void 0:s.code)??"",se()},ye=async()=>{await Te(),re.value.scrollTop+=re.value.scrollHeight,oe.value.scrollTop+=oe.value.scrollHeight},se=()=>{if(K.value=[],!c.$isEmpty(f.value)){let s={code:f.value};O.value=!0,c.$api.space_robotGetRobotInfo(s).then(t=>{I.value=t.data,u.value={name:t.data.name,robotLogo:t.data.robotLogo,robotRemark:t.data.robotRemark,welcomeContent:t.data.welcomeContent,promptText:t.data.promptText,robotPromptText:t.data.robotPromptText},M.value=t.data.knowledgeBaseFilesProcessingFlag,z.value=t.data.consumeEnergy,C.value=[],Y.value=[],de.value=[],c.$isEmpty(t.data.queryKnowledgeBaseFilesList)||t.data.queryKnowledgeBaseFilesList.forEach((A,B)=>{C.value.push({code:A.code,name:A.name,url:A.url,type:"",isSelect:!1,learningState:A.learningState}),B==t.data.queryKnowledgeBaseFilesList.length-1&&D()}),c.$isEmpty(t.data.robotPromptText)||(q.value=t.data.robotPromptText.split("@").map(A=>({name:A}))),c.$isEmpty(t.data.robotPromptText)||(ue.value=t.data.robotPromptText.split("@")),(!c.$isEmpty(I.value.welcomeContent)||!c.$isEmpty(I.value.robotPromptText))&&K.value.unshift({content:I.value.welcomeContent,type:"SYSTEM",chatType:"CHAT"}),O.value=!1,w()}).catch(()=>{O.value=!1})}},pe=()=>{C.value.forEach(s=>{s.isSelect=E.value}),D()},be=s=>{C.value[s].type=="file"?Y.value.forEach((t,A)=>{t==C.value[s].code&&(Y.value.splice(A,1),C.value.splice(s,1),D())}):(de.value.push(C.value[s].code),C.value.splice(s,1),D())},me=()=>{if(C.value.length==0){c.$Message.error("请选择");return}let s=[],t=JSON.parse(JSON.stringify(C.value)),A=[];C.value.forEach((B,R)=>{if(B.isSelect==!0&&s.push(B.code),R==C.value.length-1){if(s.length==0){c.$Message.error("请选择");return}ie.confirm({okText:"确定",cancelText:"取消",content:"是否删除所选数据?",onOk:()=>{t.forEach((S,o)=>{if(S.isSelect!=!0)A.push(S);else if(S.type!="file")de.value.push(S.code);else{let _=Y.value.indexOf(S.code);_!=-1&&Y.value.splice(_,1)}o==t.length-1&&(C.value=A,D())})}})}})},D=()=>{if(C.value.length==0){E.value=!1;return}let s=[];C.value.forEach((t,A)=>{t.isSelect==!0&&s.push(t),A==C.value.length-1&&(s.length==C.value.length?E.value=!0:E.value=!1)})},J=()=>{V.go(-1)},Ae=s=>{var A;k.value=s,((A=document.getElementById("cImage-upload"))==null?void 0:A.getElementsByClassName("upload-input")[0]).click()},_e=s=>{if(s&&s.length>0&&(k.value=="logo"&&(u.value.robotLogo=s[0].url),k.value=="file")){let t=[];s.forEach((A,B)=>{if(t.push({resourceName:A.name,resourceCode:A.code,resourceSize:A.size}),B==s.length-1){let R={resourceList:t};c.$api.resourceUploadCallback(R).then(()=>{C.value.push({name:s[0].name,code:s[0].code,url:s[0].url,type:"file",isSelect:!1}),Y.value.push(s[0].code),D(),ye()})}})}},ke=()=>{q.value.push({name:""})},we=()=>{if(c.$isEmpty(F.value.roleName)){c.$Message.error("请输入角色名称");return}if(c.$isEmpty(F.value.rolePrompt)){c.$Message.error("请输入角色需求");return}let s={roleName:F.value.roleName,rolePrompt:F.value.rolePrompt};W.value=!0,c.$api.generateAiRobotInfo(s).then(t=>{W.value=!1,u.value={name:t.data.name,robotLogo:u.value.robotLogo?u.value.robotLogo:t.data.robotLogo,robotRemark:t.data.robotRemark,welcomeContent:t.data.welcomeContent,promptText:t.data.promptText,robotPromptText:t.data.robotPromptText},c.$isEmpty(t.data.robotPromptText)||(q.value=t.data.robotPromptText.split("@").map(A=>({name:A}))),G.value=!1,Z.getUserPoints(c)},t=>{W.value=!1})},he=s=>{s?(ce.value=s.code,ee.value=!0):(j.value=!0,c.$api.space_robotDel({code:ce.value}).then(()=>{c.$Message.success("已删除"),j.value=!1,J()}).catch(()=>{j.value=!1}))},Ee=c.$debounce(()=>{if(c.$isEmpty(u.value.robotLogo)){c.$Message.error("请上传头像");return}if(c.$isEmpty(u.value.name)){c.$Message.error("请输入名称");return}if(c.$isEmpty(u.value.welcomeContent)){c.$Message.error("请输入欢迎语");return}if(c.$isEmpty(u.value.promptText)){c.$Message.error("请设定角色Prompt");return}if(C.value.length>20){c.$Message.error("最多20个文件");return}let s={templateCode:"123",robotLogo:u.value.robotLogo,name:u.value.name,robotRemark:u.value.robotRemark,welcomeContent:u.value.welcomeContent,promptText:u.value.promptText,robotPromptText:q.value.map(A=>A.name).join("@"),resourceCodeList:Y.value,deletedKnowledgeBaseFilesCodeList:de.value},t="space_robotAdd";c.$isEmpty(f.value)||(t="space_robotModify",s.code=I.value.code,s.llmCode=I.value.llmCode),O.value=!0,c.$api[t](s).then(A=>{c.$Message.success(t=="space_robotAdd"?"创建成功":"修改成功"),t=="space_robotAdd"&&(f.value=A.data),O.value=!1,V.replace({path:V.currentRoute.value.path,query:{code:f.value}}),se()}).catch(()=>{O.value=!1})},300),l=s=>{L.value=s},m=()=>{if(c.$isEmpty(f.value)){c.$Message.error("还未创建机器人");return}Z.abortReadingStream(),K.value=[],se()},w=()=>{Z.abortReadingStream();let s={type:I.value.type,robotCode:f.value};c.$api.ai_bulidChatGroupId(s).then(t=>{te.value=t.data})},N=s=>{let t={content:L.value,groupId:te.value,robotCode:f.value};K.value.push({content:L.value,type:"USER",chatType:"CHAT"}),L.value="",Z.setAiChat(c,t)};return Be(()=>Z.getChatMsg,s=>{s&&s.content&&c.$processChatData(K.value,s)},{deep:!0}),(s,t)=>{const A=Q("Icon"),B=Q("Button"),R=Q("FormItem"),S=Q("Input"),o=Ue,_=Q("Checkbox"),v=Q("Form"),X=Ke;return a(),n("div",dt,[e("div",pt,[e("div",At,[e("div",gt,[e("div",vt,[e("div",mt,[e("div",{class:"out",onClick:J},Ct),e("div",ft,[s.$isEmpty(u.value.robotLogo)?(a(),n("img",bt)):(a(),n("img",{key:0,src:u.value.robotLogo,alt:""},null,8,yt)),y(" "+b(u.value.name||"未填写名称"),1)])]),e("div",_t,[s.$isEmpty(f.value)?g("",!0):(a(),ne(B,{key:0,onClick:t[0]||(t[0]=p=>he({code:f.value}))},{default:r(()=>[i(A,{type:"ios-paper-outline"}),y(" 删除 ")]),_:1})),i(B,{class:"ml-16",type:"primary",loading:O.value,disabled:M.value,onClick:h(Ee)},{default:r(()=>[i(A,{type:"ios-document-outline"}),y(" "+b(M.value?"知识库导入中...":"保存"),1)]),_:1},8,["loading","disabled","onClick"])])]),e("div",kt,[e("div",{class:"agent-content-left fl",ref_key:"agentContentLeft",ref:oe},[e("div",wt,[y(" 个性化配置智能体 "),e("div",{class:"automatic",onClick:t[1]||(t[1]=p=>G.value=!0)},[e("span",null,[Et,y(" AI自动生成配置 "),i(A,{type:"ios-arrow-forward"})])])]),i(v,{model:u.value,"label-position":"top"},{default:r(()=>[i(R,{label:"智能体Logo",class:"required"},{default:r(()=>[e("div",{class:"robotLogo",onClick:t[2]||(t[2]=p=>Ae("logo"))},[u.value.robotLogo?g("",!0):(a(),n("img",Bt)),e("img",{class:"logo",src:u.value.robotLogo},null,8,Tt),St])]),_:1}),i(R,{label:"名称",class:"required"},{default:r(()=>[i(o,null,{default:r(()=>[i(S,{placeholder:"请输入名称",modelValue:u.value.name,"onUpdate:modelValue":t[3]||(t[3]=p=>u.value.name=p)},null,8,["modelValue"])]),_:1})]),_:1}),i(R,{label:"简介",class:"required"},{default:r(()=>[i(o,null,{default:r(()=>[i(S,{type:"textarea",placeholder:"简短介绍智能体。比如：你是一位经验丰富的英语老师，拥有激发学生热情的教学方法。你善于运用幽默和实际应用案例，使对话充满趣味。",modelValue:u.value.robotRemark,"onUpdate:modelValue":t[4]||(t[4]=p=>u.value.robotRemark=p),rows:3},null,8,["modelValue"])]),_:1})]),_:1}),i(R,{label:"角色设定",class:"required"},{default:r(()=>[i(o,null,{default:r(()=>[i(S,{type:"textarea",placeholder:"比如：作为一名中文写作改进助理，你的任务是改进所提供文本的语法、清晰、简洁和整体可读性，同时分解长句，减少重复，并提供改进建议。请只提供文本的更正版本，避免包括解释。",modelValue:u.value.promptText,"onUpdate:modelValue":t[5]||(t[5]=p=>u.value.promptText=p),rows:3},null,8,["modelValue"])]),_:1})]),_:1}),i(R,{label:"欢迎语",class:"required"},{default:r(()=>[i(o,null,{default:r(()=>[i(S,{type:"textarea",placeholder:"智能体的开场白。比如：我是经验丰富的英语老师，你有什么关于英语的问题都可以问我～",modelValue:u.value.welcomeContent,"onUpdate:modelValue":t[6]||(t[6]=p=>u.value.welcomeContent=p),rows:3},null,8,["modelValue"])]),_:1})]),_:1}),i(R,{label:"提示词",class:"promptList required"},{default:r(()=>[e("span",{class:"add-prompt",onClick:ke},"添加"),i(o,null,{default:r(()=>[(a(!0),n(T,null,$(q.value,(p,ae)=>(a(),n("div",{class:"prompt",key:ae},[i(S,{placeholder:"展示在开场白下方，比如：你是谁",modelValue:p.name,"onUpdate:modelValue":ge=>p.name=ge},null,8,["modelValue","onUpdate:modelValue"]),e("img",{class:"del",onClick:ge=>q.value.splice(ae,1),src:$e},null,8,Lt)]))),128))]),_:1})]),_:1}),i(R,{label:"知识库文件",class:"knowledge"},{default:r(()=>[Rt,e("div",It,[i(B,{class:"mb-10",onClick:t[7]||(t[7]=p=>Ae("file")),disabled:M.value},{default:r(()=>[y(b(M.value?"知识库导入中...":"上传知识库"),1)]),_:1},8,["disabled"]),i(B,{class:"mb-10",type:"primary",onClick:le,loading:O.value},{default:r(()=>[y("刷新")]),_:1},8,["loading"])]),C.value.length>0?(a(),n("div",Vt,[e("div",Ft,[i(_,{modelValue:E.value,"onUpdate:modelValue":t[8]||(t[8]=p=>E.value=p),onOnChange:pe},{default:r(()=>[y("全选")]),_:1},8,["modelValue"]),Qt,e("div",{class:"top-delete",onClick:me},"删除文件")]),e("div",{class:"table-content",ref_key:"tableContent",ref:re},[(a(!0),n(T,null,$(C.value,(p,ae)=>(a(),n("div",Ut,[e("div",Mt,[i(_,{modelValue:C.value[ae].isSelect,"onUpdate:modelValue":ge=>C.value[ae].isSelect=ge,onOnChange:D},{default:r(()=>[e("span",Ht,b(p.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),e("div",null,b(p.learningState),1),e("div",Ot,[e("img",{src:eo,onClick:ge=>be(ae)},null,8,Dt)])]))),256))],512)])):g("",!0)]),_:1})]),_:1},8,["model"])],512),e("div",Nt,[e("div",xt,[y(" 调试智能体 "),e("div",{class:"fr",onClick:m},[i(A,{type:"ios-sync"}),y(" 刷新 ")])]),e("div",Yt,[i(ut,{ref:"recordComRef",isLoading:H.value,"onUpdate:isLoading":t[9]||(t[9]=p=>H.value=p),robotLogo:I.value.robotLogo||s.robotImg,chatList:K.value,robotPromptList:ue.value,onScrollTop:s.onScrollTop,onScrollBottom:s.onScrollBottom,onGetContent:l},null,8,["isLoading","robotLogo","chatList","robotPromptList","onScrollTop","onScrollBottom"])]),f.value?(a(),n("div",Kt,[i(We,{content:L.value,"onUpdate:content":t[10]||(t[10]=p=>L.value=p),robotCode:I.value.code,consumeEnergy:z.value,onSubmit:N},null,8,["content","robotCode","consumeEnergy"])])):g("",!0)])])])])]),e("div",qt,[i(o,null,{default:r(()=>[i(X,{id:"cImage-upload",onUploadSuccess:_e})]),_:1})]),i(o,null,{default:r(()=>[i(h(ie),{class:"automaticModal",modelValue:G.value,"onUpdate:modelValue":t[13]||(t[13]=p=>G.value=p),width:"788"},{header:r(()=>[Pt]),footer:r(()=>[i(B,{type:"primary",class:"but",loading:W.value,size:"large",onClick:we},{default:r(()=>[y("生成配置")]),_:1},8,["loading"])]),default:r(()=>[Zt,e("div",jt,[zt,e("div",Wt,[i(S,{modelValue:F.value.roleName,"onUpdate:modelValue":t[11]||(t[11]=p=>F.value.roleName=p),placeholder:"例如：产品售后资讯，内部培训助手等"},null,8,["modelValue"])])]),e("div",Gt,[Jt,e("div",Xt,[i(o,null,{default:r(()=>[i(S,{type:"textarea",modelValue:F.value.rolePrompt,"onUpdate:modelValue":t[12]||(t[12]=p=>F.value.rolePrompt=p),rows:3,placeholder:"例如：态度温和，以清晰、准确地传达信息，同时聆听客户的需求和问题"},null,8,["modelValue"])]),_:1})])])]),_:1},8,["modelValue"]),i(h(ie),{modelValue:ee.value,"onUpdate:modelValue":t[16]||(t[16]=p=>ee.value=p),"mask-closable":!1},{footer:r(()=>[i(B,{onClick:t[14]||(t[14]=p=>ee.value=!1)},{default:r(()=>[y("取消")]),_:1}),i(B,{onClick:t[15]||(t[15]=p=>he("")),type:"primary",loading:j.value},{default:r(()=>[y("确定")]),_:1},8,["loading"])]),default:r(()=>[$t]),_:1},8,["modelValue"])]),_:1})])}}});const kl=De(el,[["__scopeId","data-v-e21be8de"]]);export{kl as default};
