import{a as S,b as V,r as c,w as B,h as x,i as v,j as l,k as o,y as t,F,s as T,K as L,C as N,D as P,m as R,o as d,A as u,c as D,l as w,x as M,G as U}from"./entry.d811778a.js";import{_ as j}from"./previewImg.3bbe8181.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const f=r=>(N("data-v-2acc4964"),r=r(),P(),r),q={class:"template"},A=f(()=>t("div",{class:"template-title"},"模板选择",-1)),E={class:"template-contet"},G={class:"content-item"},K={class:"item-img"},z=["src"],H={class:"item-mask"},J={class:"btn-list"},O={key:0,class:"use"},Q={class:"item-name"},W=f(()=>t("div",{class:"modal-title"},"提示",-1)),X=f(()=>t("div",null,[t("div",null,"是否确认使用该模板？")],-1)),Y=S({__name:"index",setup(r){const _=V(),h=c(),n=c(!1),{proxy:p}=R(),g=c([]),s=c(!1),y=c({type:""}),C=()=>{s.value=!0,p.$api.queryTemplateList().then(i=>{g.value=i.data,s.value=!1}).catch(()=>{s.value=!1})},k=i=>{if(i)y.value.type=i.type,n.value=!0;else{let a={type:y.value.type};s.value=!0,p.$api.enableTeamTemplate(a).then(()=>{s.value=!1,p.$Message.success("已更改"),setTimeout(()=>{window.location.replace("/ai/enterprise/build/template")},500),n.value=!1}).catch(()=>{s.value=!1})}};return C(),B(()=>_.permList,()=>{_.firmParams&&_.firmParams.isPaidTeamFlag&&_.permList.length>0&&p.$isPerm("13217",!0)},{deep:!0,immediate:!0}),(i,a)=>{const $=x("Spin"),m=x("Button"),b=L;return d(),v("div",q,[l($,{fix:"",show:s.value},{default:o(()=>[u("加载中...")]),_:1},8,["show"]),A,t("div",E,[(d(!0),v(F,null,T(g.value,e=>(d(),v("div",G,[t("div",K,[t("img",{src:e.thumbnail},null,8,z),t("div",H,[t("div",J,[l(m,{class:"btn",onClick:I=>h.value.showFn(e.dispalyImage)},{default:o(()=>[u("预览模板")]),_:2},1032,["onClick"]),e.usingFlag?w("",!0):(d(),D(m,{key:0,class:"btn",type:"primary",onClick:I=>k(e)},{default:o(()=>[u("立即使用")]),_:2},1032,["onClick"]))])]),e.usingFlag?(d(),v("div",O,"使用中")):w("",!0)]),t("div",Q,M(e.name),1)]))),256))]),l(b,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),"mask-closable":!1},{header:o(()=>[W]),footer:o(()=>[l(m,{onClick:a[0]||(a[0]=e=>n.value=!1)},{default:o(()=>[u("取消")]),_:1}),l(m,{type:"primary",onClick:a[1]||(a[1]=e=>k("")),loading:s.value},{default:o(()=>[u("确认")]),_:1},8,["loading"])]),default:o(()=>[X]),_:1},8,["modelValue"]),l(j,{ref_key:"previewImgRef",ref:h},null,512)])}}});const ae=U(Y,[["__scopeId","data-v-2acc4964"]]);export{ae as default};
