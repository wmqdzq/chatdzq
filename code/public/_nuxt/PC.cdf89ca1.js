import{a as D,r as c,e as J,w as T,h as I,i as _,y as t,x as d,l as p,F as A,s as U,c as P,k as v,j as f,K as j,C as F,D as W,m as G,o as r,A as C,_ as K,G as M}from"./entry.d811778a.js";import{_ as H}from"./close.a046fc4f.js";import{_ as X}from"./confirm.2e7c3a24.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const S=y=>(F("data-v-9d74f4c4"),y=y(),W(),y),Y={key:0,class:"PC"},Z={key:0,class:"PC-top"},z={class:"PC-top-name"},ee={class:"PC-top-title"},te={class:"PC-content"},se={class:"PC-content-list"},ae={class:"list-item"},le={class:"title"},ne={class:"name"},oe={class:"content"},ie={class:"PC-content-submit"},ue=S(()=>t("div",{style:{width:"24px"}},null,-1)),re=S(()=>t("div",{style:{width:"24px"}},null,-1)),ce={key:1,class:"overlay"},de=S(()=>t("div",{class:"content"},[t("div",{style:{"text-align":"center"}},[t("img",{class:"content-logo",src:X}),t("div",null,"已提交，请静候笔试结果通知")])],-1)),ve=D({__name:"PC",props:{data:{}},setup(y){const w=y,{proxy:N}=G(),g=c(!1),x=c(!1),k=J(),h=c(!1),b=c(""),E=c(""),e=c({}),l=c([]),n=c(0),L=o=>{if(o==1){h.value=!0;let s=!1;e.value.interviewQuestionAnswerList.forEach((i,a)=>{N.$isEmpty(i.answer)&&(s=!0),a==e.value.interviewQuestionAnswerList.length-1&&(s?b.value="您有未填写的题目，是否确认提交?":b.value="是否确认提交?")})}o==2&&(h.value=!1,e.value.interviewQuestionAnswerList.forEach((s,i)=>{if(N.$isEmpty(s.answer),i==Number(e.value.interviewQuestionAnswerList.length-1)){let a={resumeCode:e.value.code,interviewQuestionsAnswerReqList:e.value.interviewQuestionAnswerList};x.value=!0,N.$api.sumbitExamAnswer(a).then(()=>{g.value=!0,x.value=!1}).catch(()=>{x.value=!1})}}))},V=()=>{localStorage.setItem("answer",JSON.stringify(e.value))},Q=()=>{g.value=!1,window.location.reload()},R=()=>{n.value=Number(n.value)+1},$=()=>{n.value=Number(n.value)-1},O=(o,s)=>{let i=[];for(let a=0;a<o.length;a+=s)i.push(o.slice(a,a+s));return i};return T(()=>w.data,()=>{if(k.currentRoute.value&&k.currentRoute.value.query&&k.currentRoute.value.query.type&&(E.value=k.currentRoute.value.query.type),w.data&&w.data.code){w.data.dataStatus!="NOT_WRITTEN_TEST"&&(g.value=!0),e.value=JSON.parse(JSON.stringify(w.data)),l.value=O(e.value.interviewQuestionAnswerList,5);let o=0;l.value.forEach((s,i)=>{s.forEach((a,m)=>{a.index=o,o++})})}},{immediate:!0}),T(()=>e.value,()=>{e.value&&e.value.code&&V()},{deep:!0,immediate:!0}),(o,s)=>{const i=I("Input"),a=K,m=I("Button"),B=j;return e.value&&e.value.code?(r(),_("div",Y,[l.value.length>0?(r(),_("div",Z,[t("div",z,d(e.value.positionName)+"笔试-"+d(e.value.name),1),t("div",ee,"当前"+d(l.value[n.value][0].index+1)+"-"+d(l.value[n.value][l.value[n.value].length-1].index+1)+"题,总共"+d(e.value.interviewQuestionAnswerList.length)+"题",1)])):p("",!0),t("div",te,[t("div",se,[(r(!0),_(A,null,U(l.value[n.value],(u,_e)=>(r(),_("div",ae,[t("div",le,[t("div",ne,"题目"+d(Number(u.index)+1)+"：",1),t("div",null,d(u.question),1)]),t("div",oe,[f(a,null,{default:v(()=>[f(i,{type:"textarea",modelValue:e.value.interviewQuestionAnswerList[u.index].answer,"onUpdate:modelValue":q=>e.value.interviewQuestionAnswerList[u.index].answer=q,placeholder:"请答题",rows:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),256))]),t("div",ie,[l.value?(r(),_(A,{key:0},[l.value[n.value-1]?(r(),P(m,{key:0,class:"btn",type:"primary",onClick:$},{default:v(()=>[C("上一页")]),_:1})):p("",!0),ue,l.value[n.value+1]?(r(),P(m,{key:1,class:"btn",type:"primary",onClick:R},{default:v(()=>[C("下一页")]),_:1})):p("",!0)],64)):p("",!0),o.$isEmpty(E.value)?(r(),_(A,{key:1},[re,f(m,{type:"primary",class:"btn",onClick:s[0]||(s[0]=u=>L(1)),disabled:e.value.dataStatus!="NOT_WRITTEN_TEST"},{default:v(()=>[C("提交")]),_:1},8,["disabled"])],64)):p("",!0)])]),g.value?(r(),_("div",ce,[t("div",{class:"message"},[t("img",{class:"close",src:H,onClick:Q}),de])])):p("",!0),f(B,{modelValue:h.value,"onUpdate:modelValue":s[3]||(s[3]=u=>h.value=u),title:"提示","mask-closable":!1},{footer:v(()=>[f(m,{onClick:s[1]||(s[1]=u=>h.value=!1)},{default:v(()=>[C("取消")]),_:1}),f(m,{type:"primary",loading:x.value,onClick:s[2]||(s[2]=u=>L(2))},{default:v(()=>[C("提交")]),_:1},8,["loading"])]),default:v(()=>[t("div",null,[t("div",null,d(b.value),1)])]),_:1},8,["modelValue"])])):p("",!0)}}});const he=M(ve,[["__scopeId","data-v-9d74f4c4"]]);export{he as default};
