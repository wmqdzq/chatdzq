import{_ as Le}from"./ossUploaderNew.392fe014.js";import{_ as Ne,a as Ie}from"./sPrompt.b2a29269.js";import{_ as Oe}from"./exclusiveRobot.57ba76a8.js";import{a as he,r as p,w as ye,h as F,c as Y,k as g,K as Re,o as i,y as t,x as c,j as b,A as P,l as L,i as h,s as ie,v as ne,F as J,m as Ae,C as ge,D as me,G as fe,e as _e,t as Se,_ as Ue,Q as De,u as G,z as Qe,B as Ce,S as Te,b as Ve,f as Pe}from"./entry.d811778a.js";import{_ as ze}from"./search.b7f4d531.js";import{_ as ke}from"./robot.23bfda18.js";import{_ as xe}from"./hot.d804d2cf.js";import{_ as Fe,s as Ke}from"./searchRobot.bbe91f9d.js";import{g as $e}from"./glisten.f6d63182.js";import{_ as Me}from"./createLoading.vue.59f23d8b.js";import{n as We}from"./index.933ce3e1.js";import{_ as Je}from"./banner.76417e29.js";import{_ as He}from"./edit1.66aaae0f.js";import{_ as Ge}from"./del1.900d6e9b.js";import{D as be,_ as Ye,a as Ze,b as je}from"./vuedraggable.umd.b83711d6.js";import"./upload.51048db5.js";import"./svga.1e6ae788.js";import"./loding.bf55ea5c.js";import"./stringify.f484c508.js";import"./close.79d7cbfd.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";import"./electricCom.e9b6e951.js";const Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABqZJREFUeF7tXU1oHVUUPvclL8bqm1IrWbSIQheCgVJBC+rCZNtFXBQjzbxuRHBlUSzpy6rpQjPBZbtxIVqaH+lOrO2ii2YhCEJrFhIsFlxU3BSqzjMi1feuvGgg4pv7f+fdm/mynXPOPfe733znzH13JozwV2kEWKVnj8kTCFBxEoAAIEDFEaj49KEAIEDFEaj49KEAIEDFEaj49KEAIEDFEaj49KEAIEC8CJxZyhdrjI5zokODmAUnts44v541k9lBjO9izGgVoLWc/0BET7kAwTYGZ+zU4kzjvG2cQfhHSYC51XyKd+mzQQBWNCars7GF6ca9kHJSySVKArSW22eJ+LzKBEuz6XYms5P71kobz9FAIIAjIAkEcIWkPA4UQI6RqgUUQBUpmR0UQIaQu+tCBWC0Rp3OOXej7Yg0NHSWOE30jQ0CeIG8b1AZAbKZZNJHNq2V/AYI4ANZzZgggCZgAvPd1wMwWoMCqBMEBFDHilACNMDyaYoS4A5dKIAGllAADbB8mkIB3KELBdDAEgqgAZZPUyiAO3ShABpYQgE0wPJpCgVwhy4UQANLKIAGWD5NoQDu0IUCaGAJBdAAy6cpFMAdulAADSyhABpg+TSFArhDd1cqAHHm53Qu4xM4EOKOfMaRcCjUGLr/Oe4+BXCHjV4knAnUw8vGGgpgg95/feNUgKX8dWL0kTsY7CMxzsYXmo0N+0jlRoiUAL8+T4x9XS5UwtGuZWlyLKB8lFOJkgC92QVUBjapPnIkmx69o4x6QIbREqCH4emL9w8P14ePEmcH9TAterGUab1wWiO6PcIfXJ1v7s/1xg/HOmoCmMDYuvTzBNWGbvTzzdKkcnhUbsIgwC54CjC587d9QAAQACVgBwdQAnaAgR7ARlsj8UUJQAlACUAJwGPgNgfQA6AHiKR4O0oTPQB6APQA6AHQA6AH6FNSsA/gqM6GHAY9AHoA9ADoAdADeO8B5pbaz3D+1xjVhl8OryS4ORBSyrw4v9thnVsfpPvWfYznZSNIVGd9TGK3x+REv9T40MmF5iNXXM/VOQHmP/xpzx+PNr4n4gdcJ1vxeJ9naTLlGgPnBGitbj5L3c4t14kiHuVZmux1jYN7AgjO3LlOvmrxfOxTgAARsSh+AvS+5R/CX9E3/wPPL3oC+JiALp9i2AlsLee837x84FdqCfAxARBAFwHPW8Gh32Gh59dbHiiAHamF3iAAFCD4H4OgAFAANIG+OIASgBKAEuDzPEDod1jo+eEpwJf2/xsXBEAJQAlACQj7SBgeAz2WAZQAlACUAJQAlIBtDij9GnhmKV+sMTrOiQ55VOedvLxJ1P0kS/deUBkv9PxaK/kbxNnbRHxcZT62NpzYOuP8etZMZmWxpASYW8kXOSdpINlAJtdrxE68nzY+FfmGnl9rOb9MRK+azN/WhzN2anGmcV4UR0iAd1fyx+uc7tkmYuH/VZYmLxb5Dz4/djNLG8+Fmx8Rq7OxhelG4RoKCRDC+X7RIZIQ8iPBZ+JDz69HXBDAQp62XEEAWwTF/lAAS3wl/8gCCmCJb3UVoHeEutM5Z4vfln/Bx5t7l4wVoKT8jAkQQH52PQCjtWwmmXRBgKK9b1sClJGfDQEGnR8IoMheEUFBAEUQRWZQADsQTQkKBVDE3RRg4T5ASSVUpFAgAAhgsRFUEoNtngIG3WRBARzcYSCAHETTEoUSIMd2y8IUYCiAA4ChAHIQTQkKBZBjCwUo3KZFE/gPfUx/DSwJPzwGKt7lphtVIIBngNEDyAFGD9APowAkFk8BcvJKmywogBxEKAAUoO8HJWRNKh4D5TeXVKEq3QQq4ic3K/pwo+2JIPnIahaC/GwIoDa4gpVhfnYKoJCXCxPjHsDF4CoxTPcBVGK7sMGhUBcoCmKAAH4BhgJY4mujALOX8qdrNfrOMgUb9x+zNHmiKEAA+QlfvQoiP87GF5qNjSIMpS+HtpbzL4noJZtVNPdlF7K08ZbIP/z82t+W9VZwH5yuZWlyTISflABzq/lUt0sfM6LHzBfSxJN/M1Srv/LeiT13Rd7B57eSv9DldKV8/GiT6iNHsunRO1YE6Dmfvnj/8HB9+ChxdtBkKQ18NkZ/a38x/+aB31V8Q8/vncv84Yf+bL9GxJ5UmY+tTY3o9gh/cHW+uT+XxZIqgCwArseNAAgQ9/pZZw8CWEMYdwAQIO71s84eBLCGMO4AIEDc62edPQhgDWHcAUCAuNfPOnsQwBrCuAOAAHGvn3X2IIA1hHEHAAHiXj/r7P8GXVUZ2xXfXq4AAAAASUVORK5CYII=",we=""+new URL("departUser.290cde78.png",import.meta.url).href,qe="data:image/png;base64,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",Xe=Q=>(ge("data-v-398ef798"),Q=Q(),me(),Q),et={class:"modalTitle"},tt={class:"content"},ot={class:"content-left"},at={style:{margin:"10px 0"}},lt={class:"choose"},st={class:"choose-top"},nt=["onClick"],it={key:0,class:"division"},ut={class:"chooseAll"},ct={class:"choose-list"},dt={class:"choose-list-item"},rt={class:"list-item-left"},vt={class:"item-left-content"},pt={key:0,src:Ee},ht={key:1,src:we},At={class:"list-item-name text-hide"},gt={key:0,class:"list-item-right"},mt={key:0,class:"disable-a"},ft=["onClick"],bt={class:"content-right"},yt={class:"content-right-name"},_t=Xe(()=>t("span",null,"/9999",-1)),Ct={class:"content-right-list"},kt={key:0,src:Ee},Et={key:1,src:we},wt={class:"text-hide"},Bt=["onClick"],Lt=he({__name:"addMember2",props:{userOpen:{type:Boolean,default:!1},bizType:{type:String,default:""}},emits:["init","getDifferences","getWhole"],setup(Q,{expose:pe,emit:T}){const H=Q,{proxy:E}=Ae(),O=p(!1),K=p(!1),_=p(!1),C=p(!1),m=p([]),W=p(!1),D=p(!0),d=p([]),w=p([]),N=p([]),k=p([]),u=p(""),$=p(""),U=p(!1),R=p([]),X=(e,a)=>{E.$api.getUserAccountInfo().then(o=>{o.data.partnerFlag?C.value=!0:C.value=!1}),H.bizType=="WORKBENCH"&&(U.value=!1),H.bizType=="WORKBENCH_ALL_SITE_VIEW"&&(U.value=!0),N.value=[],_.value=!1,W.value=!1,k.value=[],d.value=[],w.value=[],R.value=[],e&&e.length>0&&(d.value=JSON.parse(JSON.stringify(e)),w.value=JSON.parse(JSON.stringify(e))),a&&a.length>0&&(R.value=a),O.value=!0,K.value=!0,D.value=!1;let v=H.userOpen?"teamGetBizUserList":"teamGetBizList";E.$api[v]().then(o=>{let r={code:o.data[0].code,name:""};N.value.push({code:o.data[0].code,name:o.data[0].name}),$.value=o.data[0].code,E.$api[v](r).then(A=>{m.value=JSON.parse(JSON.stringify(A.data)),K.value=!1,D.value=!0,d.value.forEach(B=>{m.value.forEach(x=>{x.code==B.code&&k.value.push(B.code)})}),m.value.forEach((B,x)=>{B.type=="user"&&!H.userOpen&&m.value.splice(x,1)}),D.value=!0})})},ee=()=>{k.value=[],W.value=!1,_.value&&m.value.forEach(e=>{k.value.push(e.code)})},Z=(e,a)=>{let v={add:[],del:[]},o={};for(let r=0;r<e.length;r++)o[e[r]]=e[r];for(let r=0;r<a.length;r++)o[a[r]]?delete o[a[r]]:v.add.push(a[r]);for(let r in o)v.del.push(r);return v},se=e=>{D.value==!0&&m.value.forEach(a=>{e.add.indexOf(a.code)!=-1&&d.value.push(a),e.del.indexOf(a.code)!=-1&&d.value.forEach((v,o)=>{v.code==a.code&&d.value.splice(o,1)})})},ue=(e,a)=>{d.value.splice(e,1),k.value.indexOf(a)!=-1&&k.value.splice(k.value.indexOf(a),1)},S=e=>k.value.indexOf(e.code)!=-1,ce=(e,a)=>{D.value=!1,N.value.splice(a+1,N.value.length);let v={code:e.code,name:u.value};$.value=e.code,K.value=!0,oe(v)},de=e=>{D.value=!1,N.value.push({code:e.code,name:e.name});let a={code:e.code,name:u.value};K.value=!0,$.value=e.code,oe(a)},te=()=>{let e={code:$.value,name:u.value};oe(e)},oe=e=>{_.value=!1,k.value=[];let a=H.userOpen?"teamGetBizUserList":"teamGetBizList";E.$api[a](e).then(v=>{m.value=JSON.parse(JSON.stringify(v.data)),K.value=!1,D.value=!0,m.value.forEach((o,r)=>{d.value.forEach(A=>{o.code==A.code&&k.value.push(o.code)}),o.type=="user"&&!H.userOpen&&m.value.splice(r,1)})})},j=()=>{if(U.value)O.value=!1,T("getWhole","WORKBENCH_ALL_SITE_VIEW");else{if(d.value.length==0){E.$Message.error("请选择");return}T("getWhole","WORKBENCH");let e=[],a=[];d.value.forEach((v,o)=>{if(e.push(v.code),o==Number(d.value.length-1))if(w.value.length==0){let r=Z(a,e);re(r)}else w.value.forEach((r,A)=>{if(a.push(r.code),A==Number(w.value.length-1)){let B=Z(a,e);re(B)}})})}},ae=()=>{O.value=!1,N.value=[],_.value=!1,W.value=!1,k.value=[],d.value=[],w.value=[],R.value=[]},re=e=>{let a=[],v=[];e.add.length==0&&e.del.length==0?n(d.value,a,v):(e.add.length>0&&e.del.length==0&&e.add.forEach((o,r)=>{d.value.forEach((A,B)=>{o==A.code&&(A.operate=!0,a.push(A)),r==Number(e.add.length-1)&&B==Number(d.value.length-1)&&n(d.value,a,v)})}),e.add.length==0&&e.del.length>0&&e.del.forEach((o,r)=>{w.value.forEach((A,B)=>{o==A.code&&(A.operate=!1,v.push(A)),r==Number(e.del.length-1)&&B==Number(w.value.length-1)&&n(d.value,a,v)})}),e.add.length>0&&e.del.length>0&&e.add.forEach((o,r)=>{d.value.forEach((A,B)=>{o==A.code&&(A.operate=!0,a.push(A)),r==Number(e.add.length-1)&&B==Number(d.value.length-1)&&e.del.forEach((x,f)=>{w.value.forEach((I,le)=>{x==I.code&&(I.operate=!1,v.push(I)),f==Number(e.del.length-1)&&le==Number(w.value.length-1)&&n(d.value,a,v)})})})}))},n=(e,a,v)=>{a.length==0&&v.length==0?(T("init",e,[]),O.value=!1):(T("init",e,a.concat(v)),O.value=!1);let o=[],r=[];d.value.forEach((A,B)=>{if(r.push(A.code),B==Number(d.value.length-1))if(R.value.length>0)R.value.forEach((x,f)=>{if(o.push(x.code),f==Number(R.value.length-1)){let I=Z(o,r);s(I)}});else{let x=Z(o,r);s(x)}})},s=e=>{if(e.add.length==0&&e.del.length==0)d.value==0?T("getDifferences",[]):d.value.forEach((a,v)=>{a.operate=!0,v==Number(d.value.length-1)&&T("getDifferences",d.value)});else{let a=[],v=[];e.add.length>0&&e.del.length==0&&e.add.forEach((o,r)=>{d.value.forEach((A,B)=>{o==A.code&&(A.operate=!0,a.push(A)),r==Number(e.add.length-1)&&B==Number(d.value.length-1)&&z(a,v)})}),e.add.length==0&&e.del.length>0&&e.del.forEach((o,r)=>{R.value.forEach((A,B)=>{o==A.code&&(A.operate=!1,v.push(A)),r==Number(e.del.length-1)&&B==Number(R.value.length-1)&&z(a,v)})}),e.add.length>0&&e.del.length>0&&e.add.forEach((o,r)=>{d.value.forEach((A,B)=>{o==A.code&&(A.operate=!0,a.push(A)),r==Number(e.add.length-1)&&B==Number(d.value.length-1)&&e.del.forEach((x,f)=>{R.value.forEach((I,le)=>{x==I.code&&(I.operate=!1,v.push(I)),f==Number(e.del.length-1)&&le==Number(R.value.length-1)&&z(a,v)})})})})}},z=(e,a)=>{d.value.length==0?T("getDifferences",a.concat(e)):d.value.forEach((v,o)=>{v.operate=!0,o==Number(d.value.length-1)&&T("getDifferences",a.concat(e))})},l=()=>{U.value&&(k.value=[],d.value=[])};return ye(()=>k.value,(e,a)=>{if(m.value.length>0?k.value.length==m.value.length?(W.value=!1,_.value=!0):k.value.length==0?W.value=!1:W.value=!0:W.value=!1,k.value.length==0&&(_.value=!1),D.value){let v=Z(a,e);se(v)}},{deep:!0}),pe({showFn:X}),(e,a)=>{const v=F("Spin"),o=F("Input"),r=F("Checkbox"),A=F("CheckboxGroup"),B=F("Button"),x=Re;return i(),Y(x,{modalWidth:788,modelValue:O.value,"onUpdate:modelValue":a[4]||(a[4]=f=>O.value=f),onOnCancel:ae,"mask-closable":!1},{header:g(()=>[t("div",et,c(e.$t("public.选择")),1)]),footer:g(()=>[b(B,{type:"primary",loading:K.value,onClick:j},{default:g(()=>[P(c(e.$t("public.确定")),1)]),_:1},8,["loading"]),b(B,{onClick:ae},{default:g(()=>[P(c(e.$t("public.取消")),1)]),_:1})]),default:g(()=>[t("div",tt,[t("div",ot,[b(v,{fix:"",show:K.value},null,8,["show"]),b(o,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=f=>u.value=f),onOnSearch:te,search:!0,placeholder:e.$t("public.搜索")},null,8,["modelValue","placeholder"]),t("div",at,[C.value?(i(),Y(r,{key:0,modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=f=>U.value=f),onOnChange:l},{default:g(()=>[P(c(e.$t("aiEnterprise.workbench.全站")),1)]),_:1},8,["modelValue"])):L("",!0)]),t("div",lt,[t("div",st,[(i(!0),h(J,null,ie(N.value,(f,I)=>(i(),h("div",{class:ne(["choose-top-item",I==N.value.length-1?"active":""]),onClick:le=>ce(f,I),key:I},[P(c(f.name),1),I!=N.value.length-1?(i(),h("span",it,">")):L("",!0)],10,nt))),128))]),m.value.length>0?(i(),Y(r,{key:0,modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=f=>_.value=f),indeterminate:W.value,onOnChange:ee},{default:g(()=>[t("span",ut,c(e.$t("public.全选")),1)]),_:1},8,["modelValue","indeterminate"])):L("",!0),t("div",ct,[b(A,{modelValue:k.value,"onUpdate:modelValue":a[3]||(a[3]=f=>k.value=f)},{default:g(()=>[(i(!0),h(J,null,ie(m.value,(f,I)=>(i(),h("div",dt,[t("div",rt,[b(r,{label:m.value[I].code},{default:g(()=>[t("div",vt,[f.type=="dept"?(i(),h("img",pt)):L("",!0),f.type=="user"?(i(),h("img",ht)):L("",!0),t("div",At,c(f.name),1)])]),_:2},1032,["label"])]),f.type=="dept"?(i(),h("div",gt,[f.haveSubDeptFlag?(i(),h(J,{key:0},[S(f)?(i(),h("a",mt,c(e.$t("aiEnterprise.workbench.下级")),1)):(i(),h("a",{key:1,onClick:le=>de(f)},c(e.$t("aiEnterprise.workbench.下级")),9,ft))],64)):L("",!0)])):L("",!0)]))),256))]),_:1},8,["modelValue"])])])]),t("div",bt,[t("div",yt,[P(c(e.$t("publicMsg.已选择"))+" ("+c(d.value.length),1),_t,P(") ")]),t("div",Ct,[(i(!0),h(J,null,ie(d.value,(f,I)=>(i(),h("div",{class:"right-list-item",key:I},[f.type=="dept"?(i(),h("img",kt)):L("",!0),f.type=="user"?(i(),h("img",Et)):L("",!0),t("div",wt,c(f.name),1),t("img",{onClick:le=>ue(I,f.code),class:"list-item-close",src:qe},null,8,Bt)]))),128))])])])]),_:1},8,["modelValue"])}}});const Nt=fe(Lt,[["__scopeId","data-v-398ef798"]]),It="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAfxJREFUWEft179rE2Ecx/H3N2boUIU8F6GDBQUdRQWHuDk4ODrckxShoKCg0NFNB/0DnBR0cHBwCLkEFLNZqOKgi9ih4KCDg4sld1nc2t5XKxZSa2J47tI8w938fJ973ef5eYLnj3juowBmHaEiwSLBcRNYbzFbhiWF41qiWw15Pm7tqHa5zEFdodyPeYtS23mZwvXA8iQrMhdg0uYGyqNBjCofgjpnpw6MOxyRlM/AzC6M8NWEHJs+sE1TlMYeiA/AuEUoQvTPlKYN1BVm+jGfUI56Cey3eaDK0tA5tl8Jxh1qknIFmAOaxtLsRdwpwe09C2O3dhNYG/YBqnwX4aGxdJ33wV6HC6WUlwOQF8ZyKWmxinAq6wr9XS8smpBnw/oauQ8mER+B0wPFuQMFvlQsJ1yB+ldh7sDt/o0dfi/9X4L7AfxmLPP+Jqi8MXXOewsU4Wkl5Kq3QE25FzS46y2QlEXTcN9mJr5IdItzwQLvvU2wvMHhQ5fp+Qr8YSwHnY+6JGKyQyysmZCT3gJV6QR1wizADaA8qbNY4X5gueUObPNu8E8NyPcsFm6akMfOwLhJTQ7wCpj900muQFHOVOqsOgO3C9dbzJWEa78ul1XdolttsJxELChcdL4PKpuivB61Qe/0nct/sTN0jMICOEZII5sUCRYJZk0ga/1PqbPYKdwyyGwAAAAASUVORK5CYII=",ve=Q=>(ge("data-v-8708ba91"),Q=Q(),me(),Q),Ot={class:"robotPage-header"},Rt={class:"robotPage-content"},St={class:"content-left"},Ut={style:{padding:"12px"}},Dt={class:"left-search"},Qt=ve(()=>t("div",{class:"left-division"},null,-1)),Tt={class:"left-list"},Vt=["onClick"],Pt=["src"],zt=ve(()=>t("div",{class:"left-division"},null,-1)),xt={class:"robot-list"},Ft=["onClick"],Kt={class:"content-right"},$t={key:0,class:"right-title"},Mt=["onClick"],Wt={key:0},Jt={key:1,class:"robotListCom clearfix"},Ht=["src"],Gt={key:1,class:"logo",src:ke,alt:""},Yt={class:"text-hide",style:{"margin-bottom":"0px","line-height":"20px"}},Zt={class:"text-hide",style:{"max-width":"264px"}},jt={class:"text-hide-2",style:{"max-width":"264px"}},qt={class:"data"},Xt={key:0,class:"fl"},eo=ve(()=>t("img",{class:"icon",src:xe,alt:""},null,-1)),to={key:1,class:"fl"},oo=ve(()=>t("img",{class:"icon w22",src:Fe,alt:""},null,-1)),ao={key:2,style:{display:"flex","align-items":"center"}},lo={style:{display:"flex","align-items":"center"}},so=ve(()=>t("span",{class:"gray"},"@",-1)),no={class:"btn"},io=["onClick"],uo=["onClick"],co=["onClick"],ro=he({__name:"robotPage",props:{list:{type:Array,default:[]}},emits:["update:list"],setup(Q,{expose:pe,emit:T}){const H=Q;_e();const E=p(1),{proxy:O}=Ae(),K=p(!1),_=p(!1),{list:C}=Se(H),m=p(""),W=p([{name:"平台推荐",img:It,key:"REC"},{name:"我的智能体",img:$e,key:"MY"}]),D=p([]);p([{id:1,name:"全部",num:5},{id:2,name:"效率",num:3},{id:3,name:"文本创作",num:5},{id:4,name:"功能写作",num:7}]);const d=p(""),w=p([]);p([]);const N=p(""),k=p(""),u=p([]),$=p(""),U=()=>{K.value=!0,R(),ee(1)},R=()=>{D.value=[],u.value=[],w.value=[],N.value="",k.value="",$.value="",_.value=!0,d.value=""},X=O.$debounce(n=>{E.value==1&&(m.value=="REC"&&te(),m.value=="MY"&&S()),E.value==2&&oe(),E.value==3&&j()},500),ee=async n=>{await R(),E.value=n,E.value==1&&Z("REC"),E.value==2&&oe(),E.value==3&&j()},Z=async n=>{await R(),m.value=n,m.value=="MY"&&S(),m.value=="REC"&&ce()},se=n=>{N.value=n.code,E.value==1&&m.value=="REC"&&(k.value=n.type,$.value="",w.value=[],de(),te()),E.value==2&&(w.value=[],w.value=n.robotList.map(s=>({...s,check:!1,robotName:s.name,robotCode:s.code,robotDescribe:s.robotRemark}))),E.value==3&&(w.value=n.queryTagInfoRobotList.map(s=>({...s,check:!1,robotName:s.tagName,robotCode:s.robotCode,robotDescribe:s.robotRemark})))},ue=n=>{$.value=n.code,te()},S=()=>{_.value=!0,O.$api.space_robotQuery({type:"CHAT",name:d.value}).then(n=>{w.value=n.data.map(s=>({...s,check:!1,robotName:s.name,robotCode:s.code,robotDescribe:s.robotRemark})),_.value=!1},n=>{_.value=!1})},ce=()=>{O.$api.queryIntelligentAgentCategory().then(n=>{D.value=n.data.map(s=>({...s,code:s.code,cateName:s.name})),te()})},de=()=>{let n={categoryCode:N.value,categoryType:k.value};O.$api.queryIntelligentAgentRobotLabel(n).then(s=>{u.value=s.data})},te=()=>{let n={categoryCode:N.value,categoryType:k.value,labelCode:$.value,name:d.value};w.value=[],_.value=!0,O.$api.queryIntelligentAgentRobot(n).then(s=>{w.value=s.data?s.data:[],_.value=!1},s=>{_.value=!1})},oe=()=>{O.$api.queryCategoryRobotList({keyword:d.value,type:"QUESTION_BANK_ROBOT_CATEGORY"}).then(n=>{D.value=n.data.map(s=>({...s,code:s.id})),O.$isEmpty(n.data)||se(n.data[0]),_.value=!1},n=>{_.value=!1})},j=()=>{let n={name:d.value,type:"AI_APPLY_CATEGORY",queryRobotFlag:!0};O.$api.queryAiApplyListPermission(n).then(s=>{D.value=s.data.map(z=>({...z,code:z.code,cateName:z.name})),O.$isEmpty(s.data)||se(s.data[0]),_.value=!1},s=>{_.value=!1})},ae=n=>{console.log(n),n.check=!n.check,re(n)},re=n=>{if(n.check)C.value.some(s=>s.robotCode===n.robotCode)||(n.code="",C.value.push(n));else{const s=C.value.findIndex(z=>z.robotCode===n.robotCode);s>-1&&C.value.splice(s,1)}T("update:list",C.value)};return pe({showFn:U}),ye(()=>w.value,n=>{console.log(n),n.forEach(s=>{C.value.find(l=>l.robotCode===s.robotCode)&&(s.check=!0)})},{deep:!0,immediate:!0}),(n,s)=>{const z=F("Button"),l=F("Input"),e=F("Tooltip"),a=Ue,v=F("Modal");return i(),Y(a,null,{default:g(()=>[b(v,{modelValue:K.value,"onUpdate:modelValue":s[5]||(s[5]=o=>K.value=o),"class-name":"robotPage",width:"1012",transfer:"","footer-hide":!0,"mask-closable":!1},{header:g(()=>[t("div",Ot,[b(z,{class:"header-btn",onClick:s[0]||(s[0]=o=>ee(1)),type:E.value==1?"primary":"text"},{default:g(()=>[P("智能体")]),_:1},8,["type"]),b(z,{class:"header-btn",onClick:s[1]||(s[1]=o=>ee(2)),type:E.value==2?"primary":"text"},{default:g(()=>[P("AI写作")]),_:1},8,["type"])])]),default:g(()=>[t("div",Rt,[t("div",St,[t("div",Ut,[t("div",Dt,[b(l,{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=o=>d.value=o),onKeyup:De(G(X),["enter"]),placeholder:"搜索"},{prefix:g(()=>[t("img",{style:{cursor:"pointer",width:"20px",height:"20px"},onClick:s[2]||(s[2]=Qe((...o)=>G(X)&&G(X)(...o),["stop"])),src:ze})]),_:1},8,["modelValue","onKeyup"])]),E.value==1?(i(),h(J,{key:0},[Qt,t("div",Tt,[(i(!0),h(J,null,ie(W.value,o=>(i(),h("div",{class:ne(["list-item",m.value==o.key?"active":""]),onClick:r=>Z(o.key)},[t("img",{src:o.img},null,8,Pt),t("div",null,c(o.name),1)],10,Vt))),256))])],64)):L("",!0),zt]),t("div",{class:ne(["left-robot",E.value!=1?"h":""])},[t("div",xt,[(i(!0),h(J,null,ie(D.value,(o,r)=>(i(),h("div",{class:ne(["list-item",N.value==o.code?"active":""]),key:r,onClick:A=>se(o)},c(o.cateName),11,Ft))),128))])],2)]),t("div",Kt,[m.value=="REC"&&!n.$isEmpty(u.value)?(i(),h("div",$t,[t("div",{class:ne(["title-btn",$.value==""?"btn-active":""]),onClick:s[4]||(s[4]=o=>ue({code:""}))},"全部",2),(i(!0),h(J,null,ie(u.value,(o,r)=>(i(),h("div",{class:ne(["title-btn",$.value==o.code?"btn-active":""]),key:r,onClick:A=>ue(o)},[P(c(o.name),1),o.num?(i(),h("span",Wt,"("+c(o.num)+")",1)):L("",!0)],10,Mt))),128))])):L("",!0),n.$isEmpty(w.value)?L("",!0):(i(),h("div",Jt,[(i(!0),h(J,null,ie(w.value,(o,r)=>(i(),h("div",{class:ne(["item",E.value==2?"item1":E.value==3?"item2":""]),key:r},[o.robotLogo?(i(),h("img",{key:0,class:"logo",src:o.robotLogo,alt:""},null,8,Ht)):(i(),h("img",Gt)),t("h2",Yt,[b(a,null,{default:g(()=>[b(e,{content:o.robotName,"max-width":"200"},{default:g(()=>[t("div",Zt,c(o.robotName),1)]),_:2},1032,["content"])]),_:2},1024)]),b(a,null,{default:g(()=>[b(e,{content:o.robotDescribe,"max-width":"200"},{default:g(()=>[t("p",jt,c(o.robotDescribe),1)]),_:2},1032,["content"])]),_:2},1024),t("div",qt,[n.$isEmpty(o.clickCount)?L("",!0):(i(),h("div",Xt,[eo,P(" "+c(o.clickCount),1)])),!n.$isEmpty(o.collectCount)&&o.collectCount!=0?(i(),h("div",to,[oo,P(" "+c(o.collectCount),1)])):L("",!0),n.$isEmpty(o.companyName)?L("",!0):(i(),h("div",ao,[b(a,null,{default:g(()=>[b(e,{content:o.companyName,"max-width":"200"},{default:g(()=>[t("div",lo,[so,t("span",{class:"companyName text-hide",style:Ce({"max-width":!n.$isEmpty(o.collectCount)&&o.collectCount!=0?"100px":"130px"})},c(o.companyName),5)])]),_:2},1032,["content"])]),_:2},1024)]))]),t("div",no,[o.check?(i(),h(J,{key:1},[t("span",{class:"gray",onClick:A=>ae(o)},"已添加",8,uo),t("span",{class:"red",onClick:A=>ae(o)},"移除",8,co)],64)):(i(),h("span",{key:0,class:"blue",onClick:A=>ae(o)},"添加",8,io))])],2))),128))])),_.value?(i(),Y(G(Me),{key:2,position:"center"})):L("",!0),n.$isEmpty(w.value)&&!_.value?(i(),Y(G(We),{key:3})):L("",!0)])])]),_:1},8,["modelValue"])]),_:1})}}});const vo=fe(ro,[["__scopeId","data-v-8708ba91"]]),po="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXxJREFUaEPtVjtOxDAUtBOOAEXiK1FQQLHlFpxqiy0poKDgSvkJjrCykVeJZBAm47z3hFa8lNZ4Mh//rLnwz164fqMG/rpBbUAbICagS4gYIHm6NkCOkEigDRADJE/XBsgREgn+TwPOuVvv/TEGZq197Pv+lRjel+lt296FEA5x0Hu/n6bpDeGHG2ia5t0Ycz2TnkIIu3EcX5CfrGGcc/fe+ydjzNWM/RiG4WZt3jlMBBQx3wzEIRYTP4iP3PwG5oqfk5TIJjLiT9baB3SJwg1EtbkfbllOOa6qqnZd18FLs8gAlwku8UV7IN0rlCY4xW82sLUJbvEkA6UmJMSTDaAmpMSzGFgzUdd1vFnTS+p8/JaeNrn7qvgUyhHlUp7xyw3LKp6tgcVUxkTqmS35hZStAcAEu3j2Bn4xISJezEAkTp/HEs9vsSWEvm65cOx7gEsYyqMG0KSkcNqAVLIorzaAJiWF0wakkkV5tQE0KSmcNiCVLMqrDaBJSeE+AQYlBkCUP/B+AAAAAElFTkSuQmCC",ho="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAohJREFUWEftmD9oE3EUxz8vafUu1NKhg4ODg0KHDg3orqBDcXGog1RRcVEUeycWcdahYOFSdOggqDSdnMShgoIFR4V0zOAQ0LFgqSUXaXNPLv8LyZnkklDK3XbHe9/f577v3vF7P+GAX3LA+YgAw1YocrD/Dr5Wgy33PhKbRXQCxQi56B6wgeoqY+Yyt6QQpBdcYsc9SYw1lImQUM3TRbJ4Oo1t5lrptwb0ndsuZPoGVyXyIUePJls52RrQyVuIOLU380uCvILiFhL/CowA62jRDnY3/gzhUilGi0kYGgfvJiKzDdrz2InFZjqtAVPuN+BMWVhXsRPXagKpwm/QMVTfYycuBwI67huEG6UYy6yv5+TTdUjZwDKSnQLuAkNlQLmIbXzuLaB7DuFLSVMoMGeanQJqvQTFJPbIRh3Q/QmcAHKozkPc78wWjeA9BSaBHSzzWC3I2ZlC4pnafaO7DUpBJQ4AzC+APO6os0WWmTPuDgaw1OF/V1CdaQtS+MiQcYV7sjMYwOoqS38m8Y6cCobcze37PKrBfS1xW7b9JygCDOti5OCBdrC8kXiBp6fb4hQ2iWHxIPFrML8ZJz+DyLu24OpBT7DMhcEALm6PMzz8AeV4m5CbeHKVh8aPwQC2SRUYFnVxWBcPv4NLrlub4JTz2OZ6WNP25TuFC4h+qjzbwzKHm+kH7AcLGdCpSlIay7zeU8CUuwJUx4jvWObZzgCd/CNEnjckpdHiW2AzHGh8DOF2A5w/89jYiVRngOVNaQbV/szEVRohy6jRxdjpC5QGd1nrG6QP59Hl4F59w/LRx53KiOh/k+VJr9vLn+BUsqjnH328DHf00S1ED/Oi47ewZkYOHnoH/wFMXlU4BNipYgAAAABJRU5ErkJggg==",q=Q=>(ge("data-v-3bfaf5b3"),Q=Q(),me(),Q),Ao={class:"deploy"},go={class:"deploy-top"},mo={class:"top-left"},fo={class:"btn"},bo=q(()=>t("img",{src:po},null,-1)),yo={class:"left-name"},_o={class:"top-content"},Co=q(()=>t("div",{style:{width:"8px"}},null,-1)),ko={class:"top-right"},Eo=q(()=>t("div",{style:{width:"12px"}},null,-1)),wo={class:"right-btn"},Bo=q(()=>t("img",{src:ho,alt:""},null,-1)),Lo={class:"content-top"},No={class:"top-item"},Io={class:"name"},Oo={class:"aiArea"},Ro={class:"aiArea-content"},So={class:"banner"},Uo={key:0,class:"shadow"},Do={class:"shadow-tag"},Qo=q(()=>t("img",{src:Ie},null,-1)),To=["src"],Vo={key:2,class:"pic",src:Je,alt:""},Po={class:"oper"},zo={class:"item"},xo={class:"list-area"},Fo={key:0,class:"list clearfix"},Ko={class:"title clearfix"},$o=["onClick"],Mo=q(()=>t("img",{src:He,alt:""},null,-1)),Wo=[Mo],Jo=["onClick"],Ho=q(()=>t("img",{src:Ge,alt:""},null,-1)),Go=[Ho],Yo={class:"add clearfix"},Zo=["onClick"],jo=q(()=>t("img",{src:Ze,alt:""},null,-1)),qo=["onClick"],Xo=q(()=>t("img",{src:je,alt:""},null,-1)),ea={class:"electric-tag"},ta={class:"robot-list"},oa={class:"robot"},aa=["onClick"],la=["src"],sa={key:1,class:"robot-logo",src:ke},na=["title"],ia=["title"],ua={key:1,class:"classifyPage"},ca={class:"classifyPage-top"},da=q(()=>t("span",{class:"blue"},"10",-1)),ra={class:"blue"},va={class:"classifyPage-table"},pa={class:"table-name"},ha={class:"name"},Aa={class:"table-num"},ga={class:"table-action"},ma=["onClick"],fa=["onClick"],ba={class:"table-bottom"},ya={key:0,class:"delete-content"},_a={class:"name"},Ca={class:"sub"},ka=he({__name:"deploy",setup(Q){const{locale:pe,t:T}=Te(),H=p(),E=p(),O=p(null),K=p(),_=p(""),C=_e();Ve();const{proxy:m}=Ae(),W=p(null),D=p(),d=p(!1),w=p(!1),N=p(1),k=p([]),u=p({name:"",backgroundImage:"",backgroundCode:"",showBackgroundImageFlag:!0,workbenchCategoryList:[{name:T("aiEnterprise.deploy.常用"),seq:0,applyCount:0,dataStatus:"NORMAL",getWorkbenchChunkList:[]}],permissionList:[],bizType:""}),$=p([]),U=p(""),R=p(""),X=p(!1),ee=p(""),Z=p([{title:T("aiEnterprise.deploy.分类名称"),key:"name",slot:"name"},{title:T("aiEnterprise.deploy.已添加应用"),key:"applyCount",slot:"num"},{title:T("aiEnterprise.deploy.是否显示"),slot:"status"},{title:T("aiEnterprise.deploy.操作"),slot:"action"}]);Pe(()=>{se();let l={typeList:["INTELLIGENT_MATCHING"]};m.$api.calcElectricity(l).then(e=>{ee.value=e.data[0].electricity})});const se=()=>{if(!m.$isEmpty(C.currentRoute.value.query.code)){let l={code:C.currentRoute.value.query.code,bizType:C.currentRoute.value.query.bizType};m.$api.getWorkbenchInfo(l).then(e=>{u.value=e.data,$.value=JSON.parse(JSON.stringify(e.data.permissionList)),U.value="",e.data.permissionList&&e.data.permissionList.length>0&&e.data.permissionList.forEach(a=>{U.value?U.value=U.value+","+a.name:U.value=a.name})})}},ue=l=>{u.value.backgroundImage=l[0].url,u.value.backgroundCode=l[0].code},S=p(0),ce=(l,e,a)=>{S.value=e,k.value=[],l.forEach(v=>{k.value.push(v.robotCode)}),a=="add"?E.value.showFn():O.value.showFn(l)},de=l=>{l.forEach(e=>{const a=u.value.workbenchCategoryList[S.value].getWorkbenchChunkList;a.some(o=>o.robotCode===e.robotCode)||a.push({robotCode:e.robotCode,robotLogo:e.robotLogo,robotName:e.robotName,robotDescribe:e.robotRemark})}),u.value.workbenchCategoryList[S.value].applyCount=u.value.workbenchCategoryList[S.value].getWorkbenchChunkList.length},te=(l,e)=>{oe(u.value.workbenchCategoryList,l,e)},oe=(l,e,a)=>{if(e>=0&&e<l.length&&a>=0&&a<l.length){let v=l[e];l[e]=l[a],l[a]=v}else console.error("Invalid indices");return l},j=(l,e,a)=>{u.value.workbenchCategoryList.length>=10&&m.$Message.error("最多添加10个分类"),_.value=l,S.value=e||0,R.value=a!=null&&a.name?a.name:"",X.value=!1,D.value.showFn()},ae=()=>{_.value=="add"&&u.value.workbenchCategoryList.push({name:R.value,seq:0,applyCount:0,dataStatus:"NORMAL",getWorkbenchChunkList:[]}),_.value=="edit"&&(u.value.workbenchCategoryList[S.value].name=R.value),_.value=="delete"&&u.value.workbenchCategoryList.splice(S.value,1),X.value=!0},re=()=>{if(m.$isEmpty(u.value.name)){m.$Message.error("请输入工作台名称");return}let l="saveWorkbench";m.$isEmpty(C.currentRoute.value.query.code)||(l="saveWorkbench"),d.value=!0,u.value.workbenchCategoryList.forEach((e,a)=>{e.seq=a}),u.value.permissionList=H.value,C.currentRoute.value.query.bizType&&(u.value.bizType=C.currentRoute.value.query.bizType),m.$api[l](u.value).then(e=>{m.$Message.success("保存成功"),d.value=!1,C.currentRoute.value.query.bizType?C.push("/ai/app/often?code="+e.data+"&bizType="+C.currentRoute.value.query.bizType):C.push("/ai/app/often?code="+e.data+"&bizType=WORKBENCH")}).catch(()=>{d.value=!1})},n=l=>{U.value="",l.forEach(e=>{u.value.permissionList=JSON.parse(JSON.stringify(l)),U.value?U.value=U.value+","+e.name:U.value=e.name})},s=l=>{C.replace({path:C.currentRoute.value.path,query:{code:C.currentRoute.value.query.code,bizType:l}})},z=l=>{H.value=JSON.parse(JSON.stringify(l))};return(l,e)=>{const a=F("Button"),v=F("Input"),o=F("Icon"),r=Le,A=F("Switch"),B=F("Table"),x=Ne,f=Oe,I=Nt,le=vo;return i(),h(J,null,[t("div",Ao,[t("div",go,[t("div",mo,[b(a,{class:"backBtn",onClick:e[0]||(e[0]=y=>G(C).go(-1))},{default:g(()=>[t("div",fo,[bo,t("div",null,c(l.$t("public.返回")),1)])]),_:1}),t("div",yo,c(l.$t("aiEnterprise.deploy.工作台页面")),1)]),t("div",_o,[b(a,{type:N.value==1?"primary":"text",class:"btn",onClick:e[1]||(e[1]=y=>N.value=1)},{default:g(()=>[P(c(l.$t("aiEnterprise.deploy.页面配置")),1)]),_:1},8,["type"]),Co,b(a,{type:N.value==2?"primary":"text",class:"btn",onClick:e[2]||(e[2]=y=>N.value=2)},{default:g(()=>[P(c(l.$t("aiEnterprise.deploy.分类配置")),1)]),_:1},8,["type"])]),t("div",ko,[b(a,{class:"btn",onClick:e[3]||(e[3]=y=>G(C).go(-1))},{default:g(()=>[P(c(l.$t("public.取消")),1)]),_:1}),Eo,b(a,{type:"primary",class:"btn",loading:d.value,ghost:"",onClick:re},{default:g(()=>[t("div",wo,[Bo,t("div",null,c(l.$t("aiEnterprise.deploy.保存并发布")),1)])]),_:1},8,["loading"])])]),t("div",{class:"deploy-content",style:Ce({padding:N.value==1?"36px 0":"36px 169px"})},[N.value==1?(i(),h(J,{key:0},[t("div",Lo,[t("div",No,[t("div",Io,c(l.$t("aiEnterprise.deploy.工作台名称")),1),b(v,{class:"input",modelValue:u.value.name,"onUpdate:modelValue":e[4]||(e[4]=y=>u.value.name=y),placeholder:l.$t("aiEnterprise.deploy.请输入")},null,8,["modelValue","placeholder"])])]),t("div",Oo,[t("div",Ro,[t("div",So,[u.value.showBackgroundImageFlag?L("",!0):(i(),h("div",Uo,[t("div",Do,[Qo,t("div",null,c(l.$t("aiEnterprise.deploy.不显示图片")),1)])])),u.value.backgroundImage?(i(),h("img",{key:1,class:"pic",src:u.value.backgroundImage,alt:""},null,8,To)):(i(),h("img",Vo)),t("div",Po,[b(r,{class:"fl",id:"cImage-upload",format:["jpg","jpeg","png"],limit:1,maxSize:10,modeType:"freedom",onUploadSuccess:ue},{content:g(()=>[t("div",zo,[b(o,{class:"icon",type:"ios-images"}),P(" "+c(l.$t("aiEnterprise.deploy.修改图片")),1)])]),_:1}),t("div",{class:"item",onClick:e[5]||(e[5]=y=>u.value.showBackgroundImageFlag=!u.value.showBackgroundImageFlag)},[u.value.showBackgroundImageFlag?(i(),Y(o,{key:0,class:"icon",type:"md-eye"})):(i(),Y(o,{key:1,class:"icon",type:"md-eye-off"})),P(" "+c(u.value.showBackgroundImageFlag?l.$t("aiEnterprise.deploy.隐藏图片"):l.$t("aiEnterprise.deploy.显示图片")),1)])])]),t("div",xo,[b(G(be),{modelValue:u.value.workbenchCategoryList,"onUpdate:modelValue":e[6]||(e[6]=y=>u.value.workbenchCategoryList=y),"item-key":"id"},{item:g(({element:y,index:M})=>[y.dataStatus=="NORMAL"?(i(),h("div",Fo,[t("div",Ko,[b(o,{class:"icon",type:"md-menu"}),t("h2",null,c(y.name),1),t("div",{class:"item",onClick:V=>j("edit",M,y)},Wo,8,$o),t("div",{class:"item",onClick:V=>j("delete",M,y)},Go,8,Jo)]),t("div",Yo,[t("div",{class:"item",onClick:V=>ce(y.getWorkbenchChunkList,M,"add")},[jo,t("h3",null,c(l.$t("aiEnterprise.deploy.自定义添加")),1),t("p",null,c(l.$t("aiEnterprise.deploy.支持智能体")),1)],8,Zo),t("div",{class:"item purple",onClick:V=>ce(y.getWorkbenchChunkList,M,"search")},[Xo,t("h3",null,c(l.$t("aiEnterprise.deploy.智能匹配")),1),t("p",null,c(l.$t("aiEnterprise.deploy.根据智能")),1),t("div",ea,"-"+c(ee.value)+c(l.$t("aiChat.电量")),1)],8,qo)]),t("ul",ta,[b(G(be),{modelValue:y.getWorkbenchChunkList,"onUpdate:modelValue":V=>y.getWorkbenchChunkList=V,draggable:".robot",group:"robot"},{item:g(({element:V,index:Be})=>[t("li",oa,[t("img",{class:"del",onClick:Ea=>y.getWorkbenchChunkList.splice(Be,1),src:Ye,alt:""},null,8,aa),V.robotLogo?(i(),h("img",{key:0,class:"robot-logo",src:V.robotLogo,alt:""},null,8,la)):(i(),h("img",sa)),t("h3",{title:V.robotName},c(V.robotName),9,na),t("p",{title:V.robotDescribe},c(V.robotDescribe),9,ia)])]),_:2},1032,["modelValue","onUpdate:modelValue"])])])):L("",!0)]),_:1},8,["modelValue"])])])])],64)):L("",!0),N.value==2?(i(),h("div",ua,[t("div",ca,[t("span",null,c(l.$t("aiEnterprise.deploy.最多可添加")),1),da,t("span",null,c(l.$t("aiEnterprise.deploy.个分类可进行")),1),t("span",ra,c(l.$t("aiEnterprise.deploy.拖动修改")),1),t("span",null,c(l.$t("aiEnterprise.deploy.排序")),1)]),t("div",va,[b(B,{columns:Z.value,data:u.value.workbenchCategoryList,draggable:"",loading:w.value,"max-height":"500",border:u.value.workbenchCategoryList.length>0,onOnDragDrop:te},{name:g(({row:y,index:M})=>[t("div",pa,[b(o,{type:"md-menu",class:"ico"}),t("div",ha,c(y.name),1)])]),num:g(({row:y,index:M})=>[t("div",Aa,c(u.value.workbenchCategoryList[M].getWorkbenchChunkList.length),1)]),status:g(({row:y,index:M})=>[b(A,{"true-value":"NORMAL","false-value":"DISABLE",modelValue:u.value.workbenchCategoryList[M].dataStatus,"onUpdate:modelValue":V=>u.value.workbenchCategoryList[M].dataStatus=V},null,8,["modelValue","onUpdate:modelValue"])]),action:g(({row:y,index:M})=>[t("div",ga,[t("div",{class:"action-item",onClick:V=>j("edit",M,y)},c(l.$t("aiEnterprise.deploy.编辑名称")),9,ma),t("div",{class:"action-item delete-ico",onClick:V=>j("delete",M,y)},c(l.$t("public.删除")),9,fa)])]),_:1},8,["columns","data","loading","border"]),t("div",ba,[t("div",{class:"add",onClick:e[7]||(e[7]=y=>j("add"))},"+ "+c(l.$t("aiEnterprise.deploy.创建分类")),1)])])])):L("",!0)],4),b(x,{ref_key:"sPromptRef",ref:D,onOk:ae,title:_.value=="edit"?l.$t("public.编辑"):_.value=="add"?l.$t("public.添加"):_.value=="delete"?l.$t("public.删除"):""},{content:g(()=>[_.value=="delete"?(i(),h("div",ya,[t("div",_a,c(l.$t("aiEnterprise.deploy.是否确认删除该分类"))+"？",1),t("div",Ca,c(l.$t("aiEnterprise.deploy.该分类下的应用也会同步进行移除")),1)])):(i(),Y(v,{key:1,modelValue:R.value,"onUpdate:modelValue":e[8]||(e[8]=y=>R.value=y),maxlength:25,placeholder:l.$t("aiEnterprise.deploy.请输入分类名称")},null,8,["modelValue","placeholder"]))]),_:1},8,["title"]),b(f,{ref_key:"exclusiveRobotRef",ref:W,onInit:de,forbiddenList:k.value},null,8,["forbiddenList"]),u.value.workbenchCategoryList[S.value]&&u.value.workbenchCategoryList[S.value].getWorkbenchChunkList?(i(),Y(G(Ke),{key:0,ref_key:"searchRobotRef",ref:O,list:u.value.workbenchCategoryList[S.value].getWorkbenchChunkList,"onUpdate:list":e[9]||(e[9]=y=>u.value.workbenchCategoryList[S.value].getWorkbenchChunkList=y),onInit:de},null,8,["list"])):L("",!0)]),b(I,{ref_key:"addMemberRef",ref:K,onInit:n,userOpen:!0,bizType:G(C).currentRoute.value.query.bizType,onGetWhole:s,onGetDifferences:z},null,8,["bizType"]),u.value.workbenchCategoryList[S.value]&&u.value.workbenchCategoryList[S.value].getWorkbenchChunkList?(i(),Y(le,{key:0,ref_key:"robotPageRef",ref:E,list:u.value.workbenchCategoryList[S.value].getWorkbenchChunkList,"onUpdate:list":e[10]||(e[10]=y=>u.value.workbenchCategoryList[S.value].getWorkbenchChunkList=y)},null,8,["list"])):L("",!0)],64)}}});const Ga=fe(ka,[["__scopeId","data-v-3bfaf5b3"]]);export{Ga as default};
