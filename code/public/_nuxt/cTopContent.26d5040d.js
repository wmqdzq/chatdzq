import{_ as z}from"./workbenchNav.3ded0db1.js";import{a as T,b as P,I as U,r as d,m as W,e as x,w as D,h as H,i as _,y as c,j as C,k as $,x as E,l as O,q as f,F,s as V,_ as q,o as v,A as G,v as K,u as Y,C as j,D as M,G as J}from"./entry.b3d0478f.js";import{w as Q,r as X,e as Z}from"./employee.710f3e09.js";import{m as ee,i as te,a as ie,b as ae,c as ne,d as re,e as le,_ as oe}from"./icon1.1be57e26.js";import{h as se,a as ce,t as ue,w as pe,b as me,d as de,c as he,s as ge}from"./settings.2f50ce3a.js";const _e=T({__name:"getWorkbenchNavList",props:{type:{type:String,default:"personal"}},emits:["getRoute"],setup(u,{emit:a}){const g=u,{proxy:t}=W(),h=P(),A=U(),n=d([{title:"工作台",url:"",name:"2",img:Q,type:"workbench",children:[]},{title:"推荐AI应用",url:"",name:"1",img:X,type:"recommend",children:[]},{title:"AI数字员工",url:"/ai/employee",name:"3",img:Z,type:"employee"},{title:"我的",url:"",name:"4",img:ee,type:"my",children:[{title:"最近使用",url:"/ai/agency",img:te,imgActive:ie},{title:"我的智能体",url:"/ai/robot",img:ae,imgActive:ne},{title:"我的收藏",url:"/ai/creative?type=collect",img:re,imgActive:le}]}]),o=d([{title:"首页",name:"1",img:se,url:"/ai/enterprise/home"},{title:"通讯录",name:"2",img:ce,children:[{title:"成员管理",name:"2-1",url:"/ai/enterprise/staff"},{title:"部门管理",name:"2-2",url:"/ai/enterprise/staff/section"},{title:"用户组管理",name:"2-3",url:"/ai/enterprise/staff/role"},{title:"审批管理",name:"2-4",url:"/ai/enterprise/staff/approval",num:h.approvalNum}]},{title:"训练中心",name:"3",img:ue,children:[{title:"智能体",name:"3-1",url:"/ai/enterprise/train"},{title:"知识库(旧版)",name:"3-2",url:"/ai/enterprise/bank"},{title:"知识库",name:"3-3",url:"/ai/enterprise/knowledge"}]},{title:"工作台",type:"workbench",name:"6",img:pe,children:[{title:"工作台配置",name:"6-1",url:"/ai/enterprise/build/workbench",children:[{title:"工作台",name:"6-1-1",url:"/ai/enterprise/build/workbench"},{title:"推荐AI应用",name:"6-1-2",url:"/ai/enterprise/build/workbench/app"}]},{title:"企业建站",name:"6-2",url:"/ai/enterprise/build/config",children:[{title:"宣传页模板",name:"6-2-1",url:"/ai/enterprise/build/template"},{title:"宣传页导航",name:"6-2-2",url:"/ai/enterprise/build/navigation"}]}]},{title:"AI应用",name:"4",img:me,children:[{title:"智能客服",name:"4-1",url:"/ai/enterprise/service"},{title:"客户管理",name:"4-2",url:"/ai/enterprise/client"}]},{title:"AI数字员工",name:"5",img:de,url:"/ai/enterprise/employee"},{title:"数据资产",name:"7",img:he,children:[{title:"应用数据",name:"7-2",url:"/ai/enterprise/date"},{title:"数据洞察",name:"7-3",url:"/ai/enterprise/total"},{title:"数据集",name:"7-4",url:"/ai/enterprise/assemble"}]},{title:"企业设置",name:"8",img:ge,children:[{title:"企业信息",name:"8-1",url:"/ai/enterprise/account"},{title:"订单管理",name:"8-3",url:"/ai/enterprise/account/order",children:[{title:"电量记录",name:"8-3-1",url:"/ai/enterprise/account/electric"},{title:"订单记录",name:"8-3-2",url:"/ai/enterprise/account/order"}]},{title:"回收站",name:"8-4",url:"/ai/enterprise/recycle/data",children:[{title:"应用数据",name:"8-4-1",url:"/ai/enterprise/recycle/data"},{title:"知识库",name:"8-4-2",url:"/ai/enterprise/recycle/knowledge"},{title:"智能体",name:"8-4-3",url:"/ai/enterprise/recycle/robot"}]}]}]),l=d([]),N=d(""),y=()=>{let r={type:"AI_APPLY_CATEGORY"};t.$api.queryAiApplyListPermission(r).then(e=>{n.value.forEach((i,p)=>{i.type=="recommend"&&(n.value[p].children=e.data.map(m=>({title:m.cateName,url:t.$getTypeRoute(m.description),img:"",imgActive:"",name:m.code}))),i.type=="employee"&&h.clientType=="PERSONAL"&&n.value.splice(p,1),p==Number(n.value.length-1)&&a("getRoute",n.value)})})},w=()=>{g.type=="personal"&&(t.$isLogin()?t.$api.getUserAccountInfo().then(r=>{let e=r.data.sourceDisplayListFlag;t.$api.queryWorkbenchPermissionList().then(i=>{n.value.forEach((p,m)=>{if(p.type=="workbench")if(e){if(i.data.length>0){let s=!0;i.data.forEach(b=>{s&&b.bizType!="WORKBENCH_PERSONAL"&&b.bizType!="WORKBENCH_TEAM"&&(s=!1,t.$api.getWorkbenchInfo({bizType:b.bizType,code:b.code}).then(R=>{R.data&&R.data.workbenchCategoryList.length>0&&(n.value[m].children=[],R.data.workbenchCategoryList.forEach(L=>{let B=L.getWorkbenchChunkList.map(k=>({title:k.robotName,url:"",img:"",imgActive:"",type:"sourceDisplayChildren",name:k.code,robotCode:k.robotCode,robotType:k.robotType}));n.value[m].children.push({title:L.name,url:"",img:"",imgActive:"",name:L.code,type:"sourceDisplay",children:B})}))}))})}}else n.value[m].children=i.data.map(s=>({title:s.name,url:"/ai/app/often?code="+s.code+"&bizType="+s.bizType,img:s.afterClickingImgUrl,imgActive:s.beforeClickingImgUrl,name:s.code}))}),y()})}):y()),g.type=="team"&&(t==null||t.$api.getUserAccountInfo().then(r=>{r.data.partnerFlag?o.value.forEach((e,i)=>{e.type=="workbench"&&(e.children[1].url="/ai/enterprise/build/config",e.children[1].children.unshift({title:"内页配置",name:"6-2-3",url:"/ai/enterprise/build/config"})),i==Number(o.value.length-1)&&a("getRoute",o.value)}):o.value.forEach((e,i)=>{e.type=="workbench"&&(e.children[1].url="/ai/enterprise/build/template",e.children[1].children=[{title:"宣传页模板",name:"6-2-1",url:"/ai/enterprise/build/template"},{title:"宣传页导航",name:"6-2-2",url:"/ai/enterprise/build/navigation"}]),i==Number(o.value.length-1)&&a("getRoute",o.value)}),I()}))},I=()=>{l.value=[],o.value.forEach(r=>{r.children&&r.children.forEach(e=>{e.children&&e.children.forEach((i,p)=>{i.url&&i.url==A.currentRoute.value.path&&(l.value=e.children,N.value=p)})})}),h.setApprovalNum(t)};return w(),(r,e)=>null}}),S=u=>(j("data-v-6fee44cc"),u=u(),M(),u),fe={class:"cTopContent"},ve={class:"aiHeadComm"},ye={class:"aiHeadComm-left"},be={class:"headComm-nav"},ke=S(()=>c("img",{class:"icon",src:oe,alt:""},null,-1)),Ce={class:"headComm-nav-menu"},Ae={class:"headComm-area"},we={key:0,class:"headComm-title"},Ie=S(()=>c("div",{class:"headComm-division"},null,-1)),Re={class:"aiHeadComm-center"},Le={key:0,class:"routeList"},Ne=["onClick"],$e={class:"aiHeadComm-right"},Ee=T({__name:"cTopContent",props:{type:{type:String,default:"personal"},title:{type:String,default:""},list:{type:Array,default:[]},backUrl:{type:String,default:""}},setup(u){const a=u,g=d([]);d([]),P();const t=x(),h=d(""),A=()=>{a.backUrl?t.push(a.backUrl):t.go(-1)},n=l=>{g.value=l},o=()=>{h.value=t.currentRoute.value.fullPath};return D(()=>t.currentRoute.value.path,()=>{o()},{immediate:!0}),(l,N)=>{const y=z,w=q,I=H("Button"),r=_e;return v(),_("div",fe,[c("div",ve,[c("div",ye,[c("div",be,[ke,c("div",Ce,[C(w,null,{default:$(()=>[C(y,{borderStyle:"border-radius:0px 12px 12px 0px",list:g.value},null,8,["list"])]),_:1})])]),c("div",Ae,[a.title?(v(),_("div",we,E(a.title),1)):O("",!0),f(l.$slots,"title",{},void 0,!0),Ie,f(l.$slots,"left",{},void 0,!0),C(I,{icon:"ios-arrow-back",onClick:A},{default:$(()=>[G("返回")]),_:1}),f(l.$slots,"left-content",{},void 0,!0)])]),c("div",Re,[a.list&&a.list.length>0?(v(),_("div",Le,[(v(!0),_(F,null,V(a.list,e=>(v(),_("div",{class:K(["routeList-item",h.value==e.url?"itemActive":""]),onClick:i=>Y(t).push(e.url)},E(e.name),11,Ne))),256))])):f(l.$slots,"center",{key:1},void 0,!0)]),c("div",$e,[f(l.$slots,"right",{},void 0,!0)])]),C(r,{onGetRoute:n,type:a.type},null,8,["type"])])}}});const Ue=J(Ee,[["__scopeId","data-v-6fee44cc"]]);export{Ue as _};
