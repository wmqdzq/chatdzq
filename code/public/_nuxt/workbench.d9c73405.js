import{_ as f}from"./workbenchNav.b17b8dfd.js";import{a as b,b as k,e as v,r as A,f as w,w as T,i as C,y as h,j as u,B as I,u as E,m as L,o as N,ad as P,G as R}from"./entry.d811778a.js";import{_ as z}from"./cDenied.577188d5.js";import{w as x,r as $,e as B}from"./employee.710f3e09.js";import"./sPrompt.b2a29269.js";import"./close.79d7cbfd.js";import"./cCreate.07dee42e.js";import"./ossUploaderNew.392fe014.js";import"./upload.51048db5.js";import"./svga.1e6ae788.js";import"./loding.bf55ea5c.js";import"./stringify.f484c508.js";import"./addBase.8fac3ed3.js";import"./robot.23bfda18.js";import"./curriculum.943a89fc.js";import"./unit.b72b5b5d.js";import"./avatar.476f89d8.js";import"./index.c7fbd698.js";import"./accountModel.d9e2d254.js";import"./phone.9cb2e3b3.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";import"./pwd.2a67e63c.js";import"./nickname.c49f7bca.js";const D={class:"workbench"},O={class:"workbench-content"},W=b({__name:"workbench",setup(F){const{proxy:r}=L(),m=k(),y=v(),n=A([{title:"工作台",url:"",name:"2",img:x,type:"workbench",children:[]},{title:"推荐AI应用",url:"",name:"1",img:$,type:"recommend",children:[]},{title:"AI数字员工",url:"/ai/employee",name:"3",img:B,type:"employee"}]);w(()=>{r.$isLogin()?(r.$api.getUserAccountInfo().then(o=>{let p=o.data.sourceDisplayListFlag;r.$api.queryWorkbenchPermissionList().then(i=>{n.value.forEach((a,t)=>{if(a.type=="workbench")if(p){if(i.data.length>0){let e=!0;i.data.forEach(c=>{e&&c.bizType!="WORKBENCH_PERSONAL"&&c.bizType!="WORKBENCH_TEAM"&&(e=!1,r.$api.getWorkbenchInfo({bizType:c.bizType,code:c.code}).then(l=>{l.data&&l.data.workbenchCategoryList.length>0&&(n.value[t].children=[],l.data.workbenchCategoryList.forEach(d=>{let g=d.getWorkbenchChunkList.map(s=>({title:s.robotName,url:"",img:"",imgActive:"",type:"sourceDisplayChildren",name:s.code,robotCode:s.robotCode,robotType:s.robotType}));n.value[t].children.push({title:d.name,url:"",img:"",imgActive:"",name:d.code,type:"sourceDisplay",children:g})}))}))})}}else n.value[t].children=i.data.map(e=>({title:e.name,url:"/ai/app/often?code="+e.code+"&bizType="+e.bizType,img:e.afterClickingImgUrl,imgActive:e.beforeClickingImgUrl,name:e.code}));a.type=="my"&&a.children.forEach((e,c)=>{e.type=="agent"&&m.clientType=="PERSONAL"&&a.children.splice(c,1)})}),_()})}),r.$api.getTenantInfo().then(o=>{m.setFirmParams(o.data)})):_()});const _=()=>{let o={type:"AI_APPLY_CATEGORY"};r.$api.queryAiApplyListPermission(o).then(p=>{n.value.forEach((i,a)=>{i.type=="recommend"&&(n.value[a].children=p.data.map(t=>({title:t.cateName,url:r.$getTypeRoute(t.description),img:"",imgActive:"",name:t.code})))})})};return T(()=>m.firmParams,o=>{o.isPaidTeamFlag},{immediate:!0,deep:!0}),(o,p)=>{const i=f,a=P,t=z;return N(),C("div",D,[h("div",{class:"workbench-nav",style:I({"z-index":E(y).currentRoute.value.path=="/ai/ppt"?"300":"302"})},[u(i,{list:n.value},null,8,["list"])],4),h("div",O,[u(a)]),u(t)])}}});const me=R(W,[["__scopeId","data-v-1e5f82c9"]]);export{me as default};
