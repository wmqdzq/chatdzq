import{a as J,t as z,h as b,o as d,i as h,u as r,F as B,j as a,B as V,z as N,l as K,c as E,k as s,_ as S,G as U,e as Z,b as T,r as g,w as L,A as M,K as Y,C as W,D as H,y as x,m as Q,f as G,p as O,s as q,v as j,x as D,a2 as X,ad as $}from"./entry.d811778a.js";import{_ as ee}from"./navLeft.46e545a7.js";import{_ as oe}from"./robot.23bfda18.js";import{H as te}from"./index.e3b09397.js";import{_ as ne}from"./ossUploader.a4d2e4d5.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";import"./avatar.476f89d8.js";import"./firmModal.1fcb4ae8.js";import"./accountModel.d9e2d254.js";import"./ossUploaderNew.392fe014.js";import"./upload.51048db5.js";import"./svga.1e6ae788.js";import"./loding.bf55ea5c.js";import"./stringify.f484c508.js";import"./phone.9cb2e3b3.js";import"./pwd.2a67e63c.js";import"./nickname.c49f7bca.js";const ae=["onClick"],se=J({name:"cImage",__name:"index",props:{width:{},url:{},type:{},code:{},disabled:{type:Boolean}},emits:["update:url"],setup(y,{emit:_}){const u=y,{width:t,disabled:A,url:n}=z(u),c=o=>{_("update:url",o[0].url)},l=()=>{_("update:url","")};return(o,I)=>{const f=b("Image"),w=b("Icon"),C=ne,i=S;return d(),h("div",{class:"cImage",style:V({width:r(t)?r(t)+"px":"96px",height:r(t)?r(t)+"px":"96px"})},[r(n)?(d(),h(B,{key:0},[a(f,{preview:!0,"preview-list":[r(n)],style:V({width:r(t)?r(t)+"px":"96px",height:r(t)?r(t)+"px":"96px"}),class:"cImage-img",src:r(n),fit:"cover"},null,8,["preview-list","style","src"]),r(A)?K("",!0):(d(),h("div",{key:0,class:"deleteImg",onClick:N(l,["stop"])},[a(w,{size:"20",type:"md-remove-circle"})],8,ae))],64)):(d(),E(i,{key:1},{default:s(()=>[a(C,{id:"cImage-upload",onUploadSuccess:c,type:o.type,code:o.code},null,8,["type","code"])]),_:1}))],4)}}});const le=U(se,[["__scopeId","data-v-21507567"]]),re=y=>(W("data-v-809ea37d"),y=y(),H(),y),ue=re(()=>x("div",{class:"modal-title"},"创建机器人",-1)),ce=J({__name:"addRobot",emits:["init"],setup(y,{expose:_,emit:u}){const{proxy:t}=Q(),A=Z(),n=T(),c=g(!1),l=g(!0);g({});const o=g(I());function I(){return{name:"",type:"CHAT",robotLogo:"",desc:""}}const f=()=>{o.value=I(),l.value=!1,c.value=!0,n.setLeftRobotLoading(!1)},w=()=>{n.setLeftRobotLoading(!1)},C=()=>{if(t.$isEmpty(o.value.name)){t.$Message.error("请输入机器人名称");return}l.value=!0,t.$api.space_robotAdd({name:o.value.name,templateCode:"123",robotLogo:o.value.robotLogo,robotRemark:o.value.robotRemark}).then(i=>{l.value=!1,c.value=!1,t.$Message.success("创建成功"),n.setLeftRobotLoading(!0),u("init",i.data),A.push("/knowledge/base?robotCode="+i.data)}).catch(()=>{l.value=!1})};return L(()=>c.value,i=>{i||n.setRobotState(i)}),_({showFn:f}),(i,e)=>{const v=b("Input"),k=b("FormItem"),F=S,P=b("Form"),R=b("Button"),p=Y;return d(),E(p,{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=m=>c.value=m),"mask-closable":!1,onOnCancel:w},{header:s(()=>[ue]),footer:s(()=>[a(R,{onClick:e[3]||(e[3]=m=>c.value=!1)},{default:s(()=>[M("取消")]),_:1}),a(R,{type:"primary",loading:l.value,onClick:C},{default:s(()=>[M("创建")]),_:1},8,["loading"])]),default:s(()=>[a(P,{model:o.value,"label-position":"top"},{default:s(()=>[a(k,{label:"机器人名称"},{default:s(()=>[a(v,{placeholder:"请输入机器人名称",modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=m=>o.value.name=m)},null,8,["modelValue"])]),_:1}),a(k,{label:"图标设置"},{default:s(()=>[a(le,{url:o.value.robotLogo,"onUpdate:url":e[1]||(e[1]=m=>o.value.robotLogo=m),type:"robotImportheadPortrait"},null,8,["url"])]),_:1}),a(k,{label:"简介"},{default:s(()=>[a(F,null,{default:s(()=>[a(v,{type:"textarea",placeholder:"请输入机器人简介",modelValue:o.value.robotRemark,"onUpdate:modelValue":e[2]||(e[2]=m=>o.value.robotRemark=m),rows:6},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}});const de=U(ce,[["__scopeId","data-v-809ea37d"]]),ie="data:image/png;base64,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",pe={class:"mains"},me=["src"],_e={key:1,src:oe},ve={class:"name"},ge={class:"addRobotButArea"},fe={class:"main-content-right"},ye=J({__name:"knowledge",setup(y){const{proxy:_}=Q(),u=Z(),t=T(),A=g(0),n=g("1-1"),c=g(null),l=g([]);G(async()=>{var e;await O(),A.value=Number((e=document.getElementById("main-header"))==null?void 0:e.offsetHeight)});const o=e=>{n.value=e.code,t.setRobotInfo(e)},I=g([{id:"1-1",name:"机器人训练",img:ie,type:"slot",slot:"robotList",url:""}]),f=()=>{if(_.$isLogin()){let e={type:"CHAT"};_.$api.space_robotQuery(e).then(v=>{l.value=v.data,t.setRobotInfo(l.value[0])})}};f();const w=()=>{c.value.showFn()},C=e=>{u.replace({path:u.currentRoute.value.path,query:{robotCode:e}}),n.value=e,f()},i=()=>{var e;A.value=Number((e=document.getElementById("main-header"))==null?void 0:e.offsetHeight)};return L(()=>u.currentRoute.value.path,e=>{if(e=="/knowledge"&&(n.value="1-1"),e=="/knowledge/enterprise/bank"&&(n.value="1-2"),u.currentRoute.value&&u.currentRoute.value.query&&u.currentRoute.value.query.robotCode&&(n.value=u.currentRoute.value.query.robotCode),_.$isLogin()){let v={type:"CHAT"};_.$api.space_robotQuery(v).then(k=>{l.value=k.data})}},{immediate:!0}),L(()=>t.robotModalState,e=>{e?w():f()},{deep:!0}),L(()=>t.leftRobotLoading,e=>{e&&f()},{deep:!0}),(e,v)=>{const k=X,F=b("Button"),P=ee,R=$;return d(),h("div",pe,[a(te,{onInit:i}),x("div",{class:"main-content",style:V({height:"calc(100vh - "+A.value+"px )"})},[I.value.length>0?(d(),E(P,{key:0,list:I.value,selectId:n.value,"onUpdate:selectId":v[0]||(v[0]=p=>n.value=p)},{robotList:s(()=>[(d(!0),h(B,null,q(l.value,(p,m)=>(d(),E(k,{class:j(["mainContentLeftChildrenItem",n.value==p.code?"active":""]),key:m,onClick:Ae=>o(p),to:"/knowledge/base?robotCode="+p.code},{default:s(()=>[e.$isEmpty(p.robotLogo)?(d(),h("img",_e)):(d(),h("img",{key:0,src:p.robotLogo},null,8,me)),x("div",ve,D(p.name),1)]),_:2},1032,["class","onClick","to"]))),128)),x("div",ge,[a(F,{type:"primary",ghost:"",onClick:w},{default:s(()=>[M("创建机器人")]),_:1})])]),_:1},8,["list","selectId"])):K("",!0),x("div",fe,[a(R)])],4),a(de,{ref_key:"addRobotRef",ref:c,onInit:C},null,512)])}}});const Se=U(ye,[["__scopeId","data-v-9576c225"]]);export{Se as default};
