import{_ as S}from"./svga.1e6ae788.js";import{_ as P}from"./close.a046fc4f.js";import{a as x,e as k,r as n,b as R,f as D,N as M,i as m,y as i,x as h,l as A,v as U,u as f,c as b,m as z,C as B,D as O,o as c,G as j}from"./entry.d811778a.js";import{l as K}from"./loadImg.56ed4b6f.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAxRJREFUWEftmMtrFEEQh7+aNdmdjUEi6k2PHvSgIoIEVARPKqigQf0DRISYneBFRAkEX/jIJoEg+QMMxEMSxIPgQUW9qKCIguBFURCiRk0y+zDbZWYmjwU1mc3syh7SpzlU/+rr6p7qqhaqfEiV87EIGHWHZiOoKtzCiipYlvmHMIiopxUA9muMT2NrkcSasjiIKhIz7/n65B1tOycCwGtuIzG5D9RE1S7PfHExuptW+0EAmHZvghwpj3i5VLSPVPJoANjhDiKyr0i6AGLK5SqcjnrnPzZjqzqEk9z/d0DVl1gyHE64TFZGVyKyISSgOYBTN1gm1+FkOsb3I9ZA5QC9NNVDne9gGJe2Eo9IxQGvZdcSM3sQBLXukEq8DRe6KauKA6bdxyCNvjvhES32tuoC7MwYdCrxC0qLXdqt9B8iOAyywo+a8gXHXlldEUxn2kEOeCcQIwM48XPVBej9xd0T232o5iUPpy/70JAV3+Ku/CZMIRVscaEDZ+mL0HD+bVbpPJjOvgZdFwDqS5zkxioDzPj128xI2aVV65WP4CJgUbmlCygW0osRXIzg3Fmn8n9x1gW1p/JgHicZr6482Jm9jepewKtq7uLYu6sLsCu/FTPRAkxgtJPWumcVBJSrWOZpKAdG88STDzghI3RpsK0nJUePNpDL78Aq1IbTsbYgemrGds6ujsmeAsmHEkZdsLox2V5al33z51z/sRwrcQzMSZDgXM471FtI8u+AabcP5PC8Gv8yUMbBOk+89oZvkssfB3MGmWqiFiKs2ocz3binsydAL00+gtQvRMufI4yhXAy+5TSqSxeshWRQUjiJ3qDiuDK6ipolzSir/a4s9JDNoOtnzWU0+NaihYpXhj0PLelPl89o/DKt8m0Wxnvh+vhzGUbCNzs18V2oOTv5PhbUgX+ON4jVzq/cvZIA19SP0CSFYGOijDa1aMg3/QMygBup7S+5iS9iigboCfmQmSZUZiMp8grMBUbsSHDRIzi90gDyIAbvJgGJDfG9diBK5Kalo0ew+IikM8ELbcr+EOXkFM/9DUXsAkc5tz5cAAAAAElFTkSuQmCC",G=l=>(B("data-v-90a600c0"),l=l(),O(),l),Z={class:"pageContent"},q={class:"tool"},N={class:"tool-header"},T=G(()=>i("img",{src:V},null,-1)),J={key:0},Q={key:0,class:"maskBg"},w={key:0,class:"tool-content-top"},F={class:"content",id:"content"},L=x({__name:"index",setup(l){const I=k(),g=n(!0),_=R(),u=n(""),r=n(!1),v=n(!1),{proxy:t}=z(),C=n([1001,1002,1003]),p=n(),y=n([1004,1005,1006,1007]),d=n(null);D(()=>{clearInterval(d.value),v.value=!0,r.value=!0,t.$api.getGenerateAiPptCode().then(e=>{let s=document.createElement("script");s.type="text/javascript",s.src="https://aippt-domestic.aippt.com/static/js/aippt-iframe-sdk.js",document.body.appendChild(s),d.value=setInterval(()=>{AipptIframe&&(E(e),clearInterval(d.value))},100)}).catch(()=>{r.value=!1});let a={type:"PPT_ROBOT"};t.$api.space_robotGetRobotInfo(a).then(e=>{e&&e.data&&(u.value=e.data.consumeEnergy)})});const E=a=>{if(v.value){let e=document.getElementById("content");r.value=!1,AipptIframe.show({appkey:a.data.apiKey,channel:a.data.channel?a.data.channel:"DZQ",code:a.data.aiPptCode,editorModel:!0,scene_auth:!1,container:e,options:{scene_auth:!0},onMessage(s,o){if(console.log(s),console.log(o),s==="SCENE_AUTH")if(o.scene==1002)AipptIframe.sceneAuthContinue(!1);else if(C.value.indexOf(o.scene)!=-1){if(p.value="",o.scene==1001&&t.$isEmpty(o.title))return;t.$api.deductRobotElectricity({type:"PPT_ROBOT"}).then(()=>{AipptIframe.sceneAuthContinue(!0),_.getUserPoints(t)}).catch(()=>{AipptIframe.sceneAuthContinue(!1)})}else y.value.indexOf(o.scene)!=-1&&(p.value=o.scene),AipptIframe.sceneAuthContinue(!0);else t.$isEmpty(p.value)||(p.value="",t.$api.deductRobotElectricity({type:"PPT_ROBOT"}).then(()=>{AipptIframe.sceneAuthContinue(!0),_.getUserPoints(t)}).catch(()=>{AipptIframe.sceneAuthContinue(!1)}))}})}};return M(()=>{clearInterval(d.value),v.value=!1}),(a,e)=>{const s=S;return c(),m("div",Z,[i("div",q,[i("div",N,[T,u.value?(c(),m("div",J,"AI生成PPT需消耗"+h(u.value)+"电量，在大纲生成阶段即进行扣减，同主题更换大纲亦消耗"+h(u.value)+"电量。为确保体验，请您谨慎规划电量使用。",1)):A("",!0)]),g.value?(c(),m("div",Q)):A("",!0),i("div",{class:U(["tool-content",g.value?"full":""])},[g.value?(c(),m("div",w,[i("img",{src:P,onClick:e[0]||(e[0]=o=>f(I).go(-1))})])):A("",!0),i("div",F,[r.value?(c(),b(s,{key:0,svgaImg:f(K),width:200,height:284},null,8,["svgaImg"])):A("",!0)])],2)])])}}});const te=j(L,[["__scopeId","data-v-90a600c0"]]);export{te as default};
