import{a3 as C,a4 as O,a5 as I,a6 as D,j as y,a7 as T,a8 as E,a as P,r as w,e as $,w as x,h as A,i as u,y as s,x as r,A as R,U as V,V as q,F,l as c,k as L,a9 as U,C as J,D as W,m as j,o as v,G}from"./entry.d811778a.js";import{_ as H}from"./bottom-arrow.2b2a94f1.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";let b;const M={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let z=C({},M);function K(){({instance:b}=I({setup(){const{state:l,toggle:d}=D();return()=>y(E,T(l,{"onUpdate:show":d}),null)}}))}function X(i){return O?new Promise((l,d)=>{b||K(),b.open(C({},z,i,{callback:m=>{(m==="confirm"?l:d)(m)}}))}):Promise.resolve()}const Y=i=>X(C({showCancelButton:!0},i)),Q=i=>(J("data-v-e29296e5"),i=i(),W(),i),Z={key:0,class:"mobile"},ee={class:"mobile-title"},te={class:"mobile-name"},se=Q(()=>s("div",null,"当前",-1)),oe=Q(()=>s("img",{src:H},null,-1)),ne={class:"mobile-answer"},ae={class:"answer-title"},ie={class:"title"},le={class:"answer-content"},re={class:"mobile-bottom"},ue={class:"picker-item"},ce={key:0,class:"notFilled"},ve=P({__name:"mobile",props:{data:{}},setup(i){const l=i,d=w(""),{proxy:m}=j(),f=$(),e=w({}),p=w(!1),a=w(0),B=w({value:"index"}),g=()=>{localStorage.setItem("answer",JSON.stringify(e.value))},S=o=>{o&&o.selectedOptions&&o.selectedOptions[0]&&(a.value=o.selectedOptions[0].index),p.value=!1},k=o=>{a.value=a.value+o},N=()=>{let o=!1,t="";e.value.interviewQuestionAnswerList.forEach((_,h)=>{m.$isEmpty(_.answer)&&(o=!0),h==e.value.interviewQuestionAnswerList.length-1&&(o?t="您有未填写的题目，是否确认提交?":t="是否确认提交?",Y({title:"提示",message:t}).then(()=>{let n={resumeCode:e.value.code,interviewQuestionsAnswerReqList:e.value.interviewQuestionAnswerList};U({message:"提交中...",forbidClick:!0}),m.$api.sumbitExamAnswer(n).then(()=>{window.location.reload()}).catch(()=>{})}))})};return x(()=>l.data,()=>{f.currentRoute.value&&f.currentRoute.value.query&&f.currentRoute.value.query.type&&(d.value=f.currentRoute.value.query.type),l.data&&l.data.code&&(e.value=JSON.parse(JSON.stringify(l.data)),e.value.interviewQuestionAnswerList.forEach((o,t)=>{o.index=t}))},{immediate:!0}),x(()=>e.value,()=>{e.value&&e.value.code&&g()},{deep:!0,immediate:!0}),(o,t)=>{const _=A("van-picker"),h=A("van-popup");return e.value&&e.value.code?(v(),u("div",Z,[s("div",ee,r(e.value.positionName)+"笔试-"+r(e.value.name),1),s("div",te,[se,s("div",{class:"select",onClick:t[0]||(t[0]=n=>p.value=!0)},[R("第"+r(a.value+1)+"题",1),oe]),s("div",null,"总共"+r(e.value.interviewQuestionAnswerList.length)+"题",1)]),s("div",ne,[s("div",ae,[s("div",ie,"题目"+r(a.value+1)+"：",1),s("div",null,r(e.value.interviewQuestionAnswerList[a.value].question),1)]),s("div",le,[V(s("textarea",{class:"input","onUpdate:modelValue":t[1]||(t[1]=n=>e.value.interviewQuestionAnswerList[a.value].answer=n),onInput:g,placeholder:"请答题"},null,544),[[q,e.value.interviewQuestionAnswerList[a.value].answer]])])]),s("div",re,[e.value&&e.value.interviewQuestionAnswerList?(v(),u(F,{key:0},[e.value.interviewQuestionAnswerList[a.value-1]?(v(),u("div",{key:0,class:"mobile-btn",onClick:t[2]||(t[2]=n=>k(-1))},"上一题")):c("",!0),e.value.interviewQuestionAnswerList[a.value+1]?(v(),u("div",{key:1,class:"mobile-btn active",onClick:t[3]||(t[3]=n=>k(1))},"下一题")):c("",!0),e.value.interviewQuestionAnswerList[a.value+1]?c("",!0):(v(),u("div",{key:2,class:"mobile-btn active",onClick:N},"提交"))],64)):c("",!0)]),y(h,{show:p.value,"onUpdate:show":t[5]||(t[5]=n=>p.value=n),round:"",position:"bottom"},{default:L(()=>[y(_,{title:"选择题目","columns-field-names":B.value,columns:e.value.interviewQuestionAnswerList,"confirm-button-text":"确定",onCancel:t[4]||(t[4]=n=>p.value=!1),onConfirm:S},{option:L(n=>[s("div",ue,[s("div",null,"第"+r(n.index+1)+"题",1),o.$isEmpty(n.answer)?(v(),u("div",ce,"未填写")):c("",!0)])]),_:1},8,["columns-field-names","columns"])]),_:1},8,["show"])])):c("",!0)}}});const fe=G(ve,[["__scopeId","data-v-e29296e5"]]);export{fe as default};
