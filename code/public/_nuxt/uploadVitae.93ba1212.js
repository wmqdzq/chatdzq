import{_ as D}from"./ossUploader.a4d2e4d5.js";import{a as N,b as P,r as n,e as W,h as y,c as h,k as s,K as q,m as Y,o as r,j as v,A as B,y as e,x as I,i as E,u as z,_ as H,C as O,D as X,E as j,G as J}from"./entry.d811778a.js";import{_ as K}from"./electric.251d62b3.js";import{c as Z}from"./curriculum.943a89fc.js";import"./upload.51048db5.js";import"./svga.1e6ae788.js";import"./loding.bf55ea5c.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIeSURBVHgB7ZhBTsJAFIYf0IUr0pCQABtaT4CegHgC4gEMegI8gXAB4s61HqBHULwAeAPqgsDSBQvZtP5Pp9gYDdPSKal5X/IyM2WGmX/eTOE9IkEQBEEQBEE4DBXKgXq93qlWq0fr9fqNcqZMhmm1WjeWZc1KpdKc65Qzxjxog1qtdheG4SD2uAtPtiuVyvM7oBwokQEajYYDjz2h6vzRZQ7hZ6vVyifDZH5EIa5bLpdnpMRB6Pbexeou6o/NZrNHhslUYOQ5eMfmNsp72GX0Odf5mWq6MI9fQGSQTAXibtmx5jWOYB+Cth5UdX42io0x+mbNVOBisXjB4l0c0ZPlcnn7Wx+I5mKo+p2avocWZYzOgpXInf2ywPjv4KERgUVHBBYdEVh0RGDR+fcCtf+qIbSJYscQ/zOpKCTx4BgWwAYJxkTRQqjM1x2H9AbbEBsbwsaUEu2InidSVR8edCkBHCdyKMXRhu4YiOO1TRF1cLzIpybVdUoVTWDBUUSgRZqQCMK4sGlPkuyKr0oH5rJIU/B3Q6BD3zkdbc//RNuDnGpAOuIz7YfSQ/scx8gPgiCkBOzyvNo4ztl40dSwB0qJ9h10HMfebDZT+sqlMD4WMYHAV8oQRPltFL0orwPmuH/HlJJEaUN+WWABnrr4RlKOcTAPpx6v9klrpFokhPZRXEBsJ7bTmczJqUWcCr5zIwibkCAIgiAIgiAIgiCk4AMVvcjtoBjFgAAAAABJRU5ErkJggg==",d=p=>(O("data-v-ea2395b9"),p=p(),X(),p),F=d(()=>e("div",{class:"top"},"上传简历",-1)),$={class:"content"},L={class:"upload"},ee={class:"upload-area"},te={key:0,style:{"text-align":"center"}},oe=["src"],ae={key:1,style:{"text-align":"center"}},se=d(()=>e("div",{class:"btn"},[e("img",{src:G}),e("div",null,"上传附件简历")],-1)),le=d(()=>e("div",null,"点击上方“上传附件简历”或将文件拖拽到此区域",-1)),ne=d(()=>e("div",null,"文件只支持PDF格式，大小不超过20M",-1)),ie=[se,le,ne],ce={class:"submit"},de=d(()=>e("div",null,"确定",-1)),ue={class:"tag"},re=d(()=>e("img",{src:K},null,-1)),pe=N({__name:"uploadVitae",emits:["init"],setup(p,{expose:R,emit:S}){const k=P(),_=n(!1),{Modal:b}=j,U=W(),i=n(!1),a=n(!1),A=n(""),{proxy:l}=Y(),x=n(""),f=n(""),m=n({resourceCode:"",positionCode:""}),V=o=>{m.value.positionCode=o,i.value=!0,a.value=!1,_.value=!1,A.value="上传中...",f.value="",l.$api.queryElectricity({type:"HR_GENERATE_RESUME"}).then(t=>{t.data&&t.data.electricityVal&&(f.value=t.data.electricityVal)})},w=o=>{let t=[];m.value.resourceCode=o&&o[0]?o[0].code:"",x.value=o[0].name,o.forEach(u=>{t.push({resourceName:u.name,resourceCode:u.code,resourceSize:u.size})});let c={resourceList:t};l.$api.resourceUploadCallback(c).then(()=>{a.value=!1,_.value=!0,A.value="AI分析中..."}).catch(()=>{a.value=!1})},T=()=>{if(l.$isEmpty(m.value.resourceCode)){l.$Message.error("请上传简历");return}a.value=!0,l.$api.addResume(m.value).then(o=>{i.value=!1;let t={code:o.data.code};l.$api.getResumeInfo(t).then(c=>{k.getUserPoints(l),o.data.dataStatus=="NO_FILTERED"?(b.confirm({title:"提示",okText:"确定",cancelText:"",content:c.data.matchDescription}),i.value=!1,a.value=!1,S("init")):(U.push("/robot/brain/hr/create?code="+o.data.code),a.value=!1)})}).catch(()=>{a.value=!1})};return R({showFn:V}),(o,t)=>{const c=y("Spin"),u=D,M=H,C=y("Button"),Q=q;return r(),h(Q,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=g=>i.value=g),"mask-closable":!1,modalWidth:788},{header:s(()=>[F]),footer:s(()=>[v(C,{onClick:t[1]||(t[1]=g=>i.value=!1)},{default:s(()=>[B("取消")]),_:1}),v(C,{type:"primary",loading:a.value,onClick:T},{default:s(()=>[e("div",ce,[de,e("div",ue,[re,e("div",null,I(f.value)+"电量",1)])])]),_:1},8,["loading"])]),default:s(()=>[e("div",$,[e("div",L,[A.value=="上传中..."?(r(),h(c,{key:0,fix:"",show:a.value},{default:s(()=>[B("上传中...")]),_:1},8,["show"])):(r(),h(c,{key:1,fix:"",show:a.value},{default:s(()=>[B("AI分析中...")]),_:1},8,["show"])),v(M,null,{default:s(()=>[v(u,{id:"cImage-upload",inputTitle:_.value?"":"未选择任何文件",format:["pdf"],maxSize:20,style:{width:"100%",height:"100%"},modeType:"freedom",onLoadings:t[0]||(t[0]=g=>a.value=!0),onUploadSuccess:w},{content:s(()=>[e("div",ee,[_.value?(r(),E("div",te,[e("img",{src:z(Z)},null,8,oe),e("div",null,I(x.value),1)])):(r(),E("div",ae,ie))])]),_:1},8,["inputTitle"])]),_:1})])])]),_:1},8,["modelValue"])}}});const Ce=J(pe,[["__scopeId","data-v-ea2395b9"]]);export{Ce as default};
