import{a as J,r as _,t as X,f as Y,w as q,h as L,c as E,k as D,_ as ee,o as c,u as p,i as v,y as l,F as N,s as V,x as y,q as te,l as C,A as T,j as W,m as j,G as $,e as ae,P as oe,B as le,C as se,D as ne,v as ce,z as ie}from"./entry.d811778a.js";import{_ as re}from"./hot.d804d2cf.js";import{_ as de}from"./notData.ab747a12.js";import{_ as ue}from"./robot.23bfda18.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const pe={class:"searchArea-form"},he={class:"form-item"},ge={class:"form-item-name"},ve={class:"form-item-content"},_e={class:"form-btn"},Ae=J({__name:"searchArea",props:{list:{type:Array,default:[]}},emits:["toSearch","selectChange","getHeight"],setup(w,{emit:k}){const A=w,d=_(),{proxy:O}=j(),{list:h}=X(A),n=_([]),B=_([]);n.value=JSON.parse(JSON.stringify(h.value));const b=(r,o)=>{let m={code:r.value};O.$api.teamGetBizUserList(m).then(f=>{f.data.length>0?f.data.forEach((g,U)=>{g.title=g.name,g.value=g.code,g.haveSubDeptFlag&&(g.loading=!1,g.selected=!1,g.checked=!1,g.children=[]),U==Number(f.data.length-1)&&o(f.data)}):o([])}).catch(()=>{o([])})},x=()=>{let r={code:"",name:""};O.$api.teamGetBizUserList(r).then(o=>{B.value=[{title:o.data[0].name,value:o.data[0].code,loading:!1,selected:!1,checked:!1,children:[]}]})},F=()=>{const r={};n.value.forEach((o,m)=>{o.type=="daterange"?o.value&&o.value[0]&&o.value[1]&&(r[o.fields]=[P(o.value[0]),P(o.value[1])]):r[o.fields]=o.value,m==Number(n.value.length-1)&&k("toSearch",r)})},M=()=>{x()},P=r=>{const o=new Date(r),m=o.getFullYear(),f=String(o.getMonth()+1).padStart(2,"0"),g=String(o.getDate()).padStart(2,"0");return`${m}-${f}-${g}`},s=(r,o)=>{k("selectChange",r,o)},z=()=>{n.value.forEach((r,o)=>{typeof r.value=="object"?r.value=[]:r.value="",o==Number(n.value.length-1)&&F()})},R=()=>{n.value.length>0&&d.value&&d.value.offsetHeight?k("getHeight",d.value.offsetHeight):k("getHeight",72)};return Y(()=>{window.addEventListener("resize",R)}),M(),q(()=>A.list,()=>{A.list.forEach((r,o)=>{n.value[o]={},n.value[o]=JSON.parse(JSON.stringify(A.list[o])),o==Number(A.list.length-1)&&R()})},{immediate:!0,deep:!0}),(r,o)=>{const m=L("TreeSelect"),f=L("Option"),g=L("Select"),U=L("Input"),H=L("DatePicker"),Q=L("Button"),Z=ee;return c(),E(Z,null,{default:D(()=>[p(n)&&p(n).length>0?(c(),v("div",{key:0,class:"searchArea",ref_key:"componentsSearchArea",ref:d},[l("div",pe,[(c(!0),v(N,null,V(p(n),(e,a)=>(c(),v("div",he,[l("div",ge,[l("div",null,y(e.title),1),e.slot?te(r.$slots,e.slot,{key:0},void 0,!0):C("",!0)]),l("div",ve,[e.type=="range"?(c(),E(m,{key:0,modelValue:p(n)[a].value,"onUpdate:modelValue":t=>p(n)[a].value=t,placeholder:e.placeholder,class:"input",multiple:"","show-checkbox":"","load-data":b,data:p(B)},null,8,["modelValue","onUpdate:modelValue","placeholder","data"])):C("",!0),e.type=="select"?(c(),E(g,{key:1,multiple:e.multiple,filterable:"","allow-create":"",onOnChange:t=>s(e,t),clearable:!0,transfer:!0,"transfer-class-name":"transferClassName",modelValue:p(n)[a].value,"onUpdate:modelValue":t=>p(n)[a].value=t,placeholder:e.placeholder},{default:D(()=>[(c(!0),v(N,null,V(e.children,t=>(c(),E(f,{value:t.value},{default:D(()=>[T(y(t.label),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["multiple","onOnChange","modelValue","onUpdate:modelValue","placeholder"])):C("",!0),e.type=="input"?(c(),E(U,{key:2,class:"input",modelValue:p(n)[a].value,"onUpdate:modelValue":t=>p(n)[a].value=t,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):C("",!0),e.type=="daterange"?(c(),E(H,{key:3,class:"daterange",type:"daterange",modelValue:p(n)[a].value,"onUpdate:modelValue":t=>p(n)[a].value=t,placement:"bottom-end",placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):C("",!0)])]))),256)),l("div",_e,[W(Q,{class:"btn",onClick:z},{default:D(()=>[T("重置")]),_:1}),W(Q,{class:"btn",type:"primary",onClick:F},{default:D(()=>[T("查询")]),_:1})])])],512)):C("",!0)]),_:3})}}});const me=$(Ae,[["__scopeId","data-v-75832f76"]]),fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABilJREFUWEfVVwuIVGUUPue/M7M77druplZbkZgo6iZYlFBWhFGYlQSWkZWyuDP/zCyz1hbaw8ds9LB8JObu3DsjLWwFsfYuCMOS0HwghES7hEQZPlgt3Umd3Zm59/6ne6Y7Mu5rVhCkHxb+O/f+53z/Oef7zlmEy7zwMvuH/zcAIsKWlhbs6urCuro6isViBAD8N+p10RHo7OzUent7y3w+n8+27XG5XG6cEMKHiOeUUqdN0zwNANloNJpDxJJgRg1g586dnkOHDlUj4kyl1CJEnAsAtUNc9SAivi+E+LKvr+9IU1NTdqRwjApAR0dHRX9//2wAWA8AMwBAAUAOADKIaBLlLyoAoIyIyhHRAwB9iBjNZDIfNzU1nRkOREkAhmGMA4AmAFjlOj5LRIedCOyzLOtbRPzN6/WapmmOQ8R7hBD3AsB0ALgGADQnSkY2m10+HIgRAWzZsmWs1+ttBYAniMhiZ2xQSrlppLAmEok7iWgjANwKAF4iWtXT07M2FotZA88NC2Djxo3+ioqKNwDgWQAwAWCPUuqpcDh8bDQlvm7duooxY8ZsR0ROnSmEuC0QCPw8agCGYTzuhLLTpdWPfr9/7uLFi9MFA1yUhw8frsxkMj4hxDkpZX9nZ6eX33d3d1uxWEzF4/GbhRC7AaCKCzMYDC4ZSNMhI9De3l5tmuZeIpoKAMdzudx90Wj0VzbO3O/o6Lgum81OI6LZSqmJiPiDUmqPEGIKf4OIe6WUf/Ne1/X3ELEeEXOZTGb8wFoYEoBhGEHONfPYtu3nw+HwO4WbJxKJKUT0GgBwhLj8FSIKIvrFZQhomjajoaGBnyEej88RQnzHe9u2749EIjuK0zAkAF3XdyHiXQBw0rKsSY2Njef4EDOCiLYhIlc6C81BphsRccVPcw331dTU1CxcuJBpClu3br3Ktu2/XJouk1JuHhHA5s2brywrK/vHDWVbMBhsLBxIJpMvK6Ved5+/sixrEYMzDIPB7nJ/PyClnFXsxDAMrp0rnOy0SCljIwJIJpNzlFL5kBHRglAo9Kl7+yoA4Dq4loiO2bY9tRAZXdenI2KXe+bdUCjEunF+GYZx1hGxSiela4LB4KsjAkgkEiEnpHE3Z5MikcjvvG9ra5uvadoXvFdKtYTD4fM30XX9MUTc5gJ4JhQKfVBw0traWunxeBgAr6iUcsuIAAzDWON8kDfu8/lq6uvrU24EWAnz6LkPBIPB7QVDuq63IOJqF0BdKBTqLno3FxG/4WfLsmY3NjbuKQWAnTOICwAkEokNRNTMvwsh7ggEAvt47zapzwHgIe6CwWDQX+iC7ruPAGABIh7XNG3q0qVLC9HI4xjEgkQi8RIRsQJCeXn5DUuWLMkrn2EYywHgLRfAK1VVVet7e3v9SimmWTuLDQD0plKpCStWrDjb3t5ebprmA0TENcQ9YaWUslDA54MwCIBhGIsA4EO3BuZFIpF8+OLx+CxN074nogoAYJF5gYjGOiWxGjFvhgGwLkQBgJsVU3MtEY0HgP3pdHpec3MzzwoXrEEAWltbp3k8HhYRbq+bpJTP8Ql3EEm4AjSmyAozg0E+7ACf7DatjBMtP/3Xp3cj4otSyv0DnQ+ZAtcRA2AZ/sOh5N2FBuSKykoimoycaCIWm209PT2f1NbWPsm5BgBu3wIRU0qpE6ZpvlmQ8VEB4I90XV+GiPmWq5Raa5pmrDDZxGIxUV1dPd7v94tsNpsu1vZ4PH41RwERNU3TjiiljkopuZMOu4aUYjbkVDrTbKZT+WeIaJkQ4jMnHXmFvJRr2Hmgra3tUU3T3uYbORMRF88G27Z3VVZW/lTclgtgDMOoEkLcwj0nEAgUZLkk1mEBcC2kUinu31Eimsk6QkT7EfFrpdQRIUTaER9FRNwJKwHgJkTkQuxLp9MPNjc395f0PpQOFB9yC/IRAHgaAG4HgBvd96cAgNNhuxyvcWnIY9sBIcT8hoaGQZQbdREO/DCZTE50Bg4WFQZRi4jM7SpnLvDwoOFMv6eUUieZNUKIHV6vd2d9fT1TseQqORUXW3DzPIGIrldKsQh5NU3LWJZ1wrbto0qpP0v9H1BSiEpCvsQfXFQELrHvvLl/AcUYzD840FlhAAAAAElFTkSuQmCC",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAQdJREFUOE+lksFRAkEQRd8v7pYhYJmAm4FksEagRICZaAZCBJKBGIGcuCJnL1w9UO1+nN0aVoRFf9XW1lRPv+7p/uKfUjs/Iq6BEeD/eYqvq/MMmEqa5DkNICL6wFNKPNTXOzCQ5D9bQEp+AQzpogZSA8bAbZfM7M5M0kCp+vLE5Pr6hQEl8JwD1p/B/CN2mP0z4a+loQF3aXhNbLzYMFlsdu6Oih7lZa8NKA24At7++ISiHqI34L2fou8hZmt0F7VxjoFsrMJeaBupixfsgRtJ88ZIebk0VFvZs8llK79WXT5Kcgdb/dhLHYiIe+AhnV1xuu9dvwLSbOyPVVXRsL06CDg2Sce/AGCFVwRNUzExAAAAAElFTkSuQmCC",S=w=>(se("data-v-dfef76cb"),w=w(),ne(),w),Ce={class:"agents-page"},be={class:"agents-head"},Ee=["onClick"],Re={class:"search-wrap"},Le={class:"agents-content-inside"},Te=["onMouseenter","onMouseleave","onClick"],ke={class:"flex"},Ne=["src"],we={class:"flex-column"},Be={class:"agents-tle text-hide"},Ie=["title"],De={class:"agents-label flex text-hide",style:{width:"280px"}},Se={class:"blue-label"},Oe={class:"flex agents-list-bottom"},xe={class:"flex align-center"},Fe=S(()=>l("img",{src:fe},null,-1)),Me={class:"flex align-center"},Ue=S(()=>l("img",{src:re},null,-1)),Qe={key:0,class:"flex operate-btn-wrap"},Ve=["onClick"],Pe=S(()=>l("img",{class:"btn-icon",src:ye,alt:"",style:{"vertical-align":"middle"}},null,-1)),ze={key:0,class:"loadMore"},He=S(()=>l("div",{class:"di"},null,-1)),Ze=S(()=>l("div",{class:"di"},null,-1)),Ge={key:1,class:"noData"},We=S(()=>l("div",{class:"tac"},[l("img",{src:de,alt:""}),l("p",{class:"mb-28"},"暂无数据")],-1)),Ke=[We],Je=J({__name:"index",setup(w){const k=_(0),A=_(!1),{proxy:d}=j(),O=ae(),h=_({}),n=_(!0),B=_({}),b=_([{title:"",id:1,tagType:"TRAIN_ROBOT_CATEGORY",total:0,sceneCode:"CHAT"},{title:"平台推荐",id:2,tagType:"PLATFORM_RECOMMEND_ROBOT_CATEGORY",total:0,sceneCode:"PLATFORM_RECOMMEND_AGENT_SCENE"},{title:"我的收藏",id:3,tagType:"collect",total:0,sceneCode:"CHAT"}]),x=_([{title:"查找",type:"input",fields:"complexKeyword",value:"",placeholder:"请输入"}]),F=e=>{h.value=e,n.value=!0,m(),g(),h.value.id==1&&r(),h.value.id==2&&(s.systemParams.pageNo=1,R()),h.value.id==3&&M("")},M=e=>{d.$api.queryCollectRobotList({sceneCode:"CHAT"}).then(a=>{b.value[2].total=a.data.length,e||(s.list=a.data)})},P=e=>{let a={deptCodeList:e.deptCodeList,robotCategoryTagTemplateCode:e.robotCategoryTagTemplateCode,robotAbilityTagTemplateCodeList:e.robotAbilityTagTemplateCode,complexKeyword:e.complexKeyword};B.value=JSON.parse(JSON.stringify(a)),n.value=!0,s.systemParams.pageNo=1,h.value.id==1?r(a):h.value.id==2&&R(a)},s=oe({list:[],teamList:[],sysDataList:[],sysTotal:0,systemParams:{pageNo:1,pageSize:12}}),z=d.$debounce(e=>{let a=e.collectRelationCode?"deleteCategoryRobot":"collectRobot",t={relationCode:e.collectRelationCode,robotCode:e.code};d.$api[a](t).then(u=>{d.$isEmpty(e.collectRelationCode)?(e.collectRelationCode=u.data,d.$Message.success("成功收藏")):(e.collectRelationCode="",d.$Message.success("取消收藏")),M("one")})},300),R=d.$debounce(e=>{let a={needQueryTeamCreatorFlag:!1,...s.systemParams,...e};A.value=!0,console.log(a),console.log(s.systemParams),console.log(e),n.value&&d.$api.queryRobotPageList(a).then(t=>{if(e==="one"){b.value[1].total=s.sysTotal=t.totalCount;return}s.systemParams.pageNo==1?s.sysDataList=t.data:s.sysDataList=s.sysDataList.concat(t.data),t.data.length==0&&(n.value=!1),s.sysTotal=t.totalCount,A.value=!1,s.sysDataList.forEach(u=>{u.btnShow=!1}),s.list=s.sysDataList}).catch(()=>{A.value=!1})},300),r=e=>{let a={type:"CHAT",queryTrainTeamRobotFlag:!0,needQueryTeamCreatorFlag:!1,...e};A.value=!0,d.$api.queryFrontTrainRobotInfoList(a).then(t=>{s.teamList=t.data,b.value[0].total=t.data.length,A.value=!1,s.teamList.forEach(u=>{u.btnShow=!1}),s.list=s.teamList,(!t.data||t.data.length==0)&&F(b.value[1])}).catch(()=>{A.value=!1})},o=_([]),m=()=>{let e={tagType:"BILITY_TAG",needQueryTeamCreatorFlag:!1,sceneCode:h.value.sceneCode};d.$api.queryRobotCategoryList(e).then(a=>{o.value=a.data,x.value.forEach(t=>{t.fields=="robotAbilityTagTemplateCode"&&(t.children=[],a.data.forEach(u=>{t.children.push({label:`${u.categoryName}(${u.categoryRobotCount})`,value:u.code})}))})})},f=_([]),g=()=>{let e={tagType:h.value.tagType,needQueryTeamCreatorFlag:!1,sceneCode:h.value.sceneCode};d.$api.queryRobotCategoryList(e).then(a=>{f.value=a.data,x.value.forEach(t=>{t.fields=="robotCategoryTagTemplateCode"&&(t.children=[],a.data.forEach(u=>{t.children.push({label:`${u.categoryName}(${u.categoryRobotCount})`,value:u.code})}))})})};_("");const U=()=>{d.$api.teamGetBizUserList().then(e=>{b.value[0].title=e.data&&e.data[0]?e.data[0].name:"我的智能体"})},H=e=>{k.value=e+114},Q=d.$debounce(e=>{const{scrollTop:a,scrollHeight:t,clientHeight:u}=e.target,G=t-a-u;h.value.id===2&&G<10&&(s.systemParams.pageNo=s.systemParams.pageNo+1,R(B.value))},300),Z=()=>{s.systemParams.pageNo=s.systemParams.pageNo+1,R(B.value)};return Y(async()=>{await U(),await r(),await R("one"),M("one"),h.value=b.value[0],g(),m()}),(e,a)=>{const t=me,u=L("Icon"),G=L("Button");return c(),v("div",Ce,[l("div",be,[(c(!0),v(N,null,V(b.value,i=>(c(),v(N,null,[i.total&&Number(i.total)>0?(c(),v("div",{key:0,class:ce(["agent-menu-item pointer",h.value.id===i.id?"item-active":""]),onClick:K=>F(i)},[T(y(i.title),1),l("span",null,"("+y(i.total)+")",1)],10,Ee)):C("",!0)],64))),256))]),l("div",Re,[h.value.id!=3?(c(),E(t,{key:0,list:x.value,onToSearch:P,onGetHeight:H},null,8,["list"])):C("",!0)]),l("div",{class:"agents-content",onScroll:a[0]||(a[0]=(...i)=>p(Q)&&p(Q)(...i)),style:le({height:"calc(100% - "+k.value+"px)"})},[s.list.length>0?(c(),v(N,{key:0},[l("div",Le,[(c(!0),v(N,null,V(s.list,(i,K)=>(c(),v("div",{class:"agent-list-item",key:K,onMouseenter:I=>i.btnShow=!0,onMouseleave:I=>i.btnShow=!1,onClick:I=>p(O).push("/ai/enterprise/train/talk?robotCode="+i.code)},[l("div",ke,[l("img",{class:"agents-img",alt:"",src:i.robotLogo||p(ue)},null,8,Ne),l("div",we,[l("span",Be,y(i.name),1),l("div",{class:"agents-desc text-hide",title:i.robotRemark},y(i.robotRemark),9,Ie),l("div",De,[(c(!0),v(N,null,V(i.labelList,(I,Ye)=>(c(),v("div",Se,y(I),1))),256))]),l("div",Oe,[l("div",xe,[Fe,T(y(i.creator),1)]),l("div",Me,[Ue,T(y(i.usePeopleNum),1)])])])]),i.btnShow?(c(),v("div",Qe,[l("div",{class:"collect-btn flex flex-c-c",onClick:ie(I=>p(z)(i),["stop"])},[i.collectRelationCode?(c(),E(u,{key:1,type:"md-star",size:"20",color:"#f8ac3a",class:"pointer"})):(c(),E(u,{key:0,type:"ios-star-outline",size:"20",class:"pointer"})),T(y(i.collectRelationCode?"已收藏":"收藏"),1)],8,Ve),W(G,{class:"get-btn",type:"primary",onClick:I=>p(O).push("/ai/enterprise/train/talk?robotCode="+i.code)},{default:D(()=>[Pe,T("对话 ")]),_:2},1032,["onClick"])])):C("",!0)],40,Te))),128))]),h.value.id===2&&n.value?(c(),v("div",ze,[He,l("div",{class:"name",onClick:Z},"点击加载更多"),Ze])):C("",!0)],64)):(c(),v("div",Ge,Ke))],36)])}}});const at=$(Je,[["__scopeId","data-v-dfef76cb"]]);export{at as default};
