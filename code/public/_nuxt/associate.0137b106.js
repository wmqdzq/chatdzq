import{a as b,r as n,b as w,N as k,w as f,h as R,i as V,y as c,j as C,k as B,x as N,_ as U,C as A,D,m as E,o as G,G as O}from"./entry.d811778a.js";import{_ as j}from"./close.a046fc4f.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const F=a=>(A("data-v-cf7d21fe"),a=a(),D(),a),M={class:"associate"},$=F(()=>c("div",{class:"name"},"AI帮我生成要求",-1)),q=b({__name:"associate",emits:["close","getContent"],setup(a,{expose:h,emit:u}){const{proxy:d}=E(),s=n(!1),o=w(),e=n(""),_=n(""),m=n(""),y=(t,l,r)=>{_.value=t,e.value="",s.value=!0,v(),d.$api.ai_bulidChatGroupId({robotCode:_.value}).then(i=>{let p="您现在要招聘的岗位名是"+r+"，您是一个专业的招聘要求书写专家，能够完整清晰的描述岗位职责和常见任职要求，请根据这个岗位生成岗位对应的岗位职责和任职要求，两部分都要分点描述。",g="";localStorage.getItem("historicalcopy")&&(g="，之前的文案："+localStorage.getItem("historicalcopy")),m.value=i.data;let S={content:p+""+g,groupId:m.value,robotCode:t};o.setAiChat(d,S)})},I=()=>{u("close")},x=()=>{s.value||u("getContent",e.value)},v=()=>{o.abortReadingStream()};return h({showFn:y,toBreak:v}),k(()=>{o.abortReadingStream()}),f(()=>o.getChatMsg,t=>{t.type=="ERROR",t&&t.content&&(e.value=e.value+""+t.content)},{deep:!0}),f(()=>o.electric,()=>{s.value=!1,e.value&&localStorage.setItem("historicalcopy",e.value)},{deep:!0}),(t,l)=>{const r=R("Input"),i=U;return G(),V("div",M,[c("div",{class:"associate-top"},[$,c("img",{onClick:I,src:j})]),C(i,null,{default:B(()=>[C(r,{type:"textarea",readonly:"",modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=p=>e.value=p),rows:6,style:{margin:"6px 0"}},null,8,["modelValue"])]),_:1}),c("div",{class:"associate-btn",onClick:x},N(s.value?"生成中...":"使用该要求"),1)])}}});const L=O(q,[["__scopeId","data-v-cf7d21fe"]]);export{L as default};
