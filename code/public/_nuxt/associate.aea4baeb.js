import{a as I,r as c,b as w,w as m,h as R,i as S,y as r,j as f,k as B,x as V,J as p,_ as A,C as D,D as E,m as G,o as L,G as N}from"./entry.d811778a.js";import{_ as O}from"./close.a046fc4f.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const U=s=>(D("data-v-e4231f6b"),s=s(),E(),s),j={class:"associate"},F=U(()=>r("div",{class:"name"},"智能联想",-1)),J=I({__name:"associate",emits:["close","getLink"],setup(s,{expose:C,emit:d}){const{proxy:_}=G(),o=c(!1),a=w(),e=c(""),v=c("1724597122952564738"),g=c("您现在扮演一个AI画画提示词生成器。请随机生成一个画画的提示词文案。要求如下：1）内容须包含主体、背景、以及对主体的细节描述2）生成的提示词不超过50个字，不少于15个字3）只保留提示词，不要出现其他不相关的内容"),h=(t,n)=>{if(!n){let i={robotCode:v.value};o.value=!1,e.value="",a.abortReadingStream();let u=g.value,l="";p("historicalCopy").value&&(l="，之前的文案："+p("historicalCopy").value),_.$api.ai_bulidChatGroupId(i).then(x=>{let k={content:u+""+l,groupId:x.data,robotCode:v.value};o.value=!0,a.setAiChat(_,k)})}},y=()=>{d("close")},b=()=>{o.value||d("getLink",e.value)};return C({showFn:h,toBreak:()=>{a.abortReadingStream()}}),m(()=>a.getChatMsg,t=>{t.type=="ERROR",t&&t.content&&(e.value=e.value+""+t.content)},{deep:!0}),m(()=>a.electric,()=>{o.value=!1,e.value&&(p("historicalCopy").value=e.value)},{deep:!0}),(t,n)=>{const i=R("Input"),u=A;return L(),S("div",j,[r("div",{class:"associate-top"},[F,r("img",{onClick:y,src:O})]),f(u,null,{default:B(()=>[f(i,{type:"textarea",readonly:"",modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),rows:6,style:{margin:"6px 0"}},null,8,["modelValue"])]),_:1}),r("div",{class:"associate-btn",onClick:b},V(o.value?"生成中...":"使用该描述"),1)])}}});const K=N(J,[["__scopeId","data-v-e4231f6b"]]);export{K as default};
